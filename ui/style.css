:root {
  --retro-black: #000;
  --retro-white: #fff;
  --retro-gray: #f3f3f3;
  --retro-dark-gray: #111;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background: repeating-linear-gradient(
      90deg,
      var(--retro-white) 0px,
      var(--retro-white) 12px,
      var(--retro-gray) 12px,
      var(--retro-gray) 24px
    );
  color: var(--retro-black);
  font-family: 'Courier New', monospace;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
}

button {
  background: repeating-linear-gradient(
      90deg,
      var(--retro-white) 0px,
      var(--retro-white) 10px,
      #eaeaea 10px,
      #eaeaea 20px
    );
  color: var(--retro-black);
  border: 2px solid var(--retro-black);
  padding: 10px 14px;
  cursor: pointer;
  font-family: 'Courier New', monospace;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-weight: bold;
  box-shadow: 0 0 0 2px var(--retro-black) inset;
  transition: background 0.15s ease, transform 0.1s ease;
}

button:hover {
  background: repeating-linear-gradient(
      90deg,
      #fefefe 0px,
      #fefefe 10px,
      #ececec 10px,
      #ececec 20px
    );
}

button:active {
  transform: translateY(1px);
}

button:focus {
  outline: 2px dashed var(--retro-black);
  outline-offset: 2px;
}

input,
select {
  border: 2px solid var(--retro-black);
  padding: 8px;
  font-family: 'Courier New', monospace;
  background: var(--retro-white);
  box-shadow: 0 0 0 2px var(--retro-black) inset;
}

#game {
  width: min(1200px, 96%);
  margin: 48px auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

#tabs {
  display: flex;
  border: 2px solid var(--retro-black);
  background: var(--retro-black);
  box-shadow: 0 0 0 3px var(--retro-black) inset;
  overflow: hidden;
}

#tabs button {
  flex: 1;
  border: none;
  border-right: 1px solid var(--retro-black);
  color: var(--retro-white);
  background: repeating-linear-gradient(
      135deg,
      #1a1a1a 0px,
      #1a1a1a 12px,
      #2a2a2a 12px,
      #2a2a2a 24px
    );
  box-shadow: none;
}

#tabs button:last-child {
  border-right: none;
}

#tabs button.active {
  color: var(--retro-black);
  background: var(--retro-white);
  box-shadow: inset 0 0 0 3px var(--retro-black);
}

#content {
  border: 2px solid var(--retro-black);
  padding: 24px;
  background: var(--retro-white);
  box-shadow: 0 0 0 4px var(--retro-black) inset, 12px 12px 0 0 rgba(0, 0, 0, 0.1);
  min-height: 620px;
  display:flex;
  flex-direction:column;
}

.tab-pane {
  display: none;
  flex-direction: column;
  gap: 20px;
}

.tab-pane.active {
  display: flex;
}

.hidden { display:none !important; }

#auth,
#character-select {
  border: 2px solid var(--retro-black);
  padding: 16px;
  margin: 56px auto 0;
  background: var(--retro-white);
  box-shadow: 0 0 0 4px var(--retro-black) inset, 12px 12px 0 0 rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#auth {
  max-width: 320px;
}

#auth input {
  width: 100%;
}

#character-select {
  max-width: 640px;
}

#character-select h2 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 2px;
}

#character-list {
  list-style: none;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

#character-list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 2px solid var(--retro-black);
  padding: 8px 12px;
  background: repeating-linear-gradient(
      90deg,
      var(--retro-white) 0px,
      var(--retro-white) 14px,
      #ededed 14px,
      #ededed 28px
    );
  box-shadow: 0 0 0 3px var(--retro-black) inset;
}

#character-list li .info { white-space:pre; margin-right:8px; }

#rotation {
  display:flex;
  flex-direction:column;
  gap:24px;
}

#rotation-container {
  display:flex;
  flex-direction:column;
  gap:24px;
  border:2px solid var(--retro-black);
  background:var(--retro-white);
  box-shadow:0 0 0 4px var(--retro-black) inset;
  padding:24px;
}
#rotation-container .rotation-settings {
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}
#rotation-container .rotation-settings label {
  font-weight:bold;
}
#rotation-container .lists {
  display:flex;
  flex-wrap:wrap;
  gap:24px;
  align-items:flex-start;
  justify-content:space-between;
}
#rotation-container .pool {
  flex:1;
  min-width:280px;
  max-width:460px;
  display:flex;
  flex-direction:column;
  gap:16px;
}
#rotation-container .ability-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(120px,1fr));
  gap:12px;
  border:2px solid var(--retro-black);
  margin:0;
  padding:12px;
  background:repeating-linear-gradient(0deg, var(--retro-white) 0px, var(--retro-white) 10px, #f4f4f4 10px, #f4f4f4 20px);
  box-shadow:0 0 0 3px var(--retro-black) inset;
  max-height:320px;
  overflow-y:auto;
}
#rotation-container .ability-card {
  border:2px solid var(--retro-black);
  padding:8px;
  text-align:center;
  cursor:move;
  background:var(--retro-white);
  box-shadow:0 0 0 2px var(--retro-black) inset;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
}
#rotation-container ul {
  list-style:none;
  padding:12px;
  margin:0;
  border:2px solid var(--retro-black);
  min-width:220px;
  min-height:260px;
  max-height:340px;
  overflow-y:auto;
  background:repeating-linear-gradient(180deg, var(--retro-white) 0px, var(--retro-white) 12px, #f5f5f5 12px, #f5f5f5 24px);
  box-shadow:0 0 0 3px var(--retro-black) inset;
  display:flex;
  flex-direction:column;
  gap:8px;
}
#rotation-container li {
  border:2px solid var(--retro-black);
  padding:6px 8px;
  cursor:move;
  background:var(--retro-white);
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  font-size:12px;
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
#rotation-container li:last-child {
  margin-bottom:0;
}
#rotation-error {
  margin-top:0;
  text-align:center;
  font-weight:bold;
  color:#a00;
}

#rotation-delete {
  border:2px dashed var(--retro-black);
  padding:12px;
  min-height:60px;
  text-align:center;
  color:#a00;
  text-transform:uppercase;
  letter-spacing:1px;
  background:var(--retro-white);
  box-shadow:0 0 0 3px var(--retro-black) inset;
}

#name-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; align-items:center; justify-content:center; }
#name-dialog .dialog-box { border:1px solid #000; padding:8px; }
#name-dialog input { width:200px; margin-top:4px; }
#name-dialog .dialog-buttons { margin-top:8px; text-align:right; }

.tooltip { position:absolute; background:#fff; border:1px solid #000; padding:4px; pointer-events:none; z-index:1000; }
.tooltip.hidden { display:none; }
.tooltip[data-theme='dark'] { background:#000; border-color:#fff; color:#fff; }
.tooltip[data-theme='dark'] .tooltip-grid .label { color:#bfbfbf; }
.tooltip-grid { display:grid; grid-template-columns:auto auto; gap:2px 8px; }
.tooltip-grid .label { font-weight:bold; text-align:right; }

#battle-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; align-items:center; justify-content:center; padding:16px; z-index:1000; }
#battle-dialog .dialog-box { border:1px solid #000; padding:16px; width:100%; max-width:800px; background:#fff; display:flex; flex-direction:column; }
#battle-dialog .combatants-row { display:flex; gap:16px; margin-bottom:16px; }
#battle-dialog .combatant { flex:1; border:1px solid #000; padding:12px; }
#battle-dialog .combatant .name { font-weight:bold; text-align:center; margin-bottom:8px; }
#battle-dialog .bars { display:flex; flex-direction:column; gap:6px; }
.bar {
  position:relative;
  border:1px solid #000;
  height:12px;
  background:#fff;
  overflow:hidden;
}
.bar .fill {
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  background:#000;
  width:100%;
}
.bar .label {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:10px;
  font-weight:bold;
  color:#fff;
  pointer-events:none;
}
.bar .label .value {
  pointer-events:none;
  white-space:nowrap;
}
#battle-log {
  border:2px solid var(--retro-black);
  height:220px;
  overflow-y:auto;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:0;
  background:repeating-linear-gradient(0deg, var(--retro-white) 0px, var(--retro-white) 12px, #f3f3f3 12px, #f3f3f3 24px);
  box-shadow:0 0 0 3px var(--retro-black) inset;
}
#battle-log .log-message {
  max-width:75%;
  padding:8px 10px;
  border:2px solid var(--retro-black);
  background:var(--retro-white);
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
}
#battle-log .log-message.you {
  align-self:flex-start;
  background:var(--retro-black);
  color:var(--retro-white);
  border-color:var(--retro-black);
}
#battle-log .log-message.opponent {
  align-self:flex-end;
  background:var(--retro-white);
  color:var(--retro-black);
  border-color:var(--retro-black);
  text-align:right;
}
#battle-log .log-message.neutral {
  align-self:center;
  background:var(--retro-white);
  color:var(--retro-black);
  border-style:dashed;
  text-align:center;
}
#battle-dialog .dialog-buttons { text-align:right; margin-top:16px; }

.stats-table { border-collapse:collapse; margin-bottom:8px; width:100%; }
.stats-table th, .stats-table td { border:1px solid #000; padding:4px; }
.stats-table .section td { font-weight:bold; text-align:center; }

.character-page { display:flex; flex-direction:column; gap:16px; width:100%; }
.character-hero {
  display:flex;
  gap:16px;
  align-items:stretch;
  border:2px solid #000;
  background:#fff;
  padding:16px;
  box-shadow:0 0 0 4px #000 inset;
}
.hero-emblem {
  width:120px;
  min-height:120px;
  border:2px solid #000;
  background:repeating-linear-gradient(45deg, #000 0px, #000 6px, #fff 6px, #fff 12px);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:4px;
}
.hero-body { flex:1; display:flex; flex-direction:column; gap:12px; }
.hero-header { display:flex; align-items:baseline; gap:12px; }
.hero-name { font-size:28px; text-transform:uppercase; letter-spacing:2px; }
.hero-type {
  border:1px solid #000;
  background:#000;
  color:#fff;
  padding:4px 8px;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.hero-meta-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:8px;
}
.hero-meta-item {
  border:1px solid #000;
  background:#fff;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:2px;
}
.hero-meta-item .label {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.hero-meta-item .value { font-size:16px; font-weight:bold; }
.hero-xp { display:flex; flex-direction:column; gap:6px; }
.xp-label { font-weight:bold; letter-spacing:1px; }
.xp-bar { border:1px solid #000; height:16px; background:#f8f8f8; position:relative; overflow:hidden; }
.xp-bar::before {
  content:'';
  position:absolute;
  inset:0;
  background:repeating-linear-gradient(90deg, #f8f8f8 0px, #f8f8f8 6px, #e4e4e4 6px, #e4e4e4 12px);
  opacity:0.7;
}
.xp-bar-fill {
  position:relative;
  height:100%;
  background:#000;
  box-shadow:0 0 0 1px #000 inset;
}
.hero-xp.ready .xp-bar-fill { animation:pulse-bar 1s steps(2) infinite; }
.xp-hint { font-size:12px; color:#444; text-transform:uppercase; letter-spacing:1px; }
.xp-ready-text { font-size:12px; font-weight:bold; text-transform:uppercase; letter-spacing:1px; }
.hero-actions {
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-width:160px;
  gap:12px;
}
.hero-status {
  border:1px solid #000;
  padding:8px;
  background:#fff;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
  text-align:center;
}
.hero-status.ready { background:#000; color:#fff; }
.hero-note {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#444;
}
.character-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  gap:16px;
}
.character-card {
  border:2px solid #000;
  background:#fff;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 3px #000 inset;
}
.character-card h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:16px;
}
.highlight-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:12px;
}
.highlight-item {
  border:1px solid #000;
  background:repeating-linear-gradient(0deg, #fff 0px, #fff 8px, #f0f0f0 8px, #f0f0f0 16px);
  padding:8px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.highlight-item .label {
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.highlight-item .value { font-size:18px; font-weight:bold; }
.character-card .loadout-summary { display:flex; flex-direction:column; gap:16px; }
.summary-tables {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
}
.summary-extras {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
  align-items:start;
}
.chance-card, .onhit-card {
  border:2px solid var(--retro-black);
  background:#fff;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 3px var(--retro-black) inset;
}
.card-heading {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}
.onhit-card .simple-list { flex:1; }

@keyframes pulse-bar {
  0%, 100% { opacity:1; }
  50% { opacity:0.4; }
}

#levelup-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; align-items:center; justify-content:center; }
#levelup-dialog .dialog-box { border:1px solid #000; padding:8px; width:300px; }
#levelup-dialog .dialog-buttons { margin-top:8px; text-align:right; }

#shop {
  display:flex;
  flex-direction:column;
  gap:24px;
}
#shop-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  border:2px solid var(--retro-black);
  padding:16px;
  background:repeating-linear-gradient(90deg, var(--retro-white) 0px, var(--retro-white) 12px, #ededed 12px, #ededed 24px);
  box-shadow:0 0 0 4px var(--retro-black) inset;
}
#shop-gold {
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
}
.message {
  border:2px solid var(--retro-black);
  padding:8px 12px;
  background:repeating-linear-gradient(90deg, var(--retro-white) 0px, var(--retro-white) 16px, #f2f2f2 16px, #f2f2f2 32px);
  box-shadow:0 0 0 3px var(--retro-black) inset;
  letter-spacing:0.5px;
  font-weight:bold;
}
.message.error {
  background:var(--retro-black);
  color:var(--retro-white);
  box-shadow:0 0 0 3px var(--retro-white) inset;
}
.item-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(200px,1fr));
  gap:16px;
}
.item-card {
  border:2px solid var(--retro-black);
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:8px;
  background:repeating-linear-gradient(0deg, var(--retro-white) 0px, var(--retro-white) 12px, #f3f3f3 12px, #f3f3f3 24px);
  min-height:170px;
  box-shadow:0 0 0 3px var(--retro-black) inset;
}
.item-card .name {
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
}
.item-card .meta {
  font-size:12px;
  color:#333;
}
.item-card .cost {
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
}
.item-card .owned {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.item-card button {
  margin-top:auto;
}

#battle {
  display:flex;
  flex-direction:column;
  gap:24px;
}
#battle-modes {
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  border:2px solid var(--retro-black);
  padding:12px;
  justify-content:space-between;
  background:repeating-linear-gradient(90deg, var(--retro-white) 0px, var(--retro-white) 12px, #ededed 12px, #ededed 24px);
  box-shadow:0 0 0 4px var(--retro-black) inset;
}
#battle-modes button {
  flex:1;
  min-width:160px;
}
#battle-area {
  border:2px solid var(--retro-black);
  padding:20px;
  background:var(--retro-white);
  box-shadow:0 0 0 4px var(--retro-black) inset;
  min-height:320px;
  display:flex;
  flex-direction:column;
  gap:16px;
}

#inventory {
  display:flex;
  flex-direction:column;
  gap:24px;
}
.inventory-layout {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(280px,1fr));
  gap:24px;
}
.inventory-column {
  border:2px solid var(--retro-black);
  padding:20px;
  background:var(--retro-white);
  box-shadow:0 0 0 4px var(--retro-black) inset;
  display:flex;
  flex-direction:column;
  gap:16px;
}
.inventory-column h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:2px;
  border-bottom:2px solid var(--retro-black);
  padding-bottom:6px;
}
.equipment-panel {
  max-width:none;
}
.equipment-slots {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(160px,1fr));
  gap:12px;
  margin-bottom:8px;
}
.equipment-slot {
  border:2px solid var(--retro-black);
  padding:10px;
  min-height:120px;
  display:flex;
  flex-direction:column;
  background:repeating-linear-gradient(0deg, var(--retro-white) 0px, var(--retro-white) 14px, #f0f0f0 14px, #f0f0f0 28px);
  box-shadow:0 0 0 3px var(--retro-black) inset;
}
.equipment-slot.empty {
  border-style:dashed;
}
.equipment-slot .slot-name {
  font-weight:bold;
  margin-bottom:6px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.equipment-slot .item-name {
  flex-grow:1;
}
.equipment-slot button {
  margin-top:8px;
}

.loadout-summary {
  display:flex;
  flex-direction:column;
  gap:12px;
}
.loadout-summary .stats-table {
  width:100%;
}
.simple-list {
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.simple-list li {
  border:2px solid var(--retro-black);
  padding:6px 8px;
  background:var(--retro-white);
  box-shadow:0 0 0 2px var(--retro-black) inset;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
}
.challenge-panel {
  border:2px solid var(--retro-black);
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:16px;
  background:var(--retro-white);
  box-shadow:0 0 0 4px var(--retro-black) inset;
}
.challenge-round {
  font-weight:bold;
  text-transform:uppercase;
  text-align:center;
  font-size:18px;
  letter-spacing:2px;
}
.challenge-reward,
.challenge-next {
  border:2px solid var(--retro-black);
  padding:8px 10px;
  background:repeating-linear-gradient(90deg, var(--retro-white) 0px, var(--retro-white) 14px, #f1f1f1 14px, #f1f1f1 28px);
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
.challenge-actions {
  display:flex;
  justify-content:center;
  gap:12px;
}
.challenge-message {
  align-self:center;
  text-transform:uppercase;
  letter-spacing:1px;
}
.challenge-empty {
  border:2px dashed var(--retro-black);
  padding:10px;
  text-align:center;
  text-transform:uppercase;
  letter-spacing:1px;
  background:var(--retro-white);
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
.adventure-panel {
  border:2px solid var(--retro-black);
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:16px;
  background:var(--retro-white);
  box-shadow:0 0 0 4px var(--retro-black) inset;
}
.adventure-status-text {
  font-weight:bold;
  text-transform:uppercase;
  text-align:center;
  font-size:18px;
  letter-spacing:2px;
}
.adventure-progress {
  display:flex;
  flex-direction:column;
  gap:6px;
}
.adventure-progress-bar {
  height:16px;
  border:2px solid var(--retro-black);
  background:#dcdcdc;
  border-radius:0;
  overflow:hidden;
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
.adventure-progress-bar .fill {
  height:100%;
  width:0%;
  background:repeating-linear-gradient(90deg, #111 0px, #111 8px, #2b2b2b 8px, #2b2b2b 16px);
  transition:width 0.4s steps(12);
}
.adventure-progress-label {
  text-align:center;
  font-size:12px;
  color:#111;
  text-transform:uppercase;
  letter-spacing:1px;
}
.adventure-timers {
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:8px;
  font-size:14px;
}
.adventure-actions {
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}
.adventure-day-picker {
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
}
.adventure-day-picker select {
  font-family:'Courier New', monospace;
  padding:6px;
  border:2px solid var(--retro-black);
  background:var(--retro-white);
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
.adventure-message {
  text-align:center;
  text-transform:uppercase;
  letter-spacing:1px;
}
.adventure-log { border:2px solid var(--retro-black); background:#070707; color:#fff; padding:12px; max-height:260px; overflow-y:auto; display:flex; flex-direction:column; gap:10px; box-shadow:0 0 0 4px var(--retro-black) inset; }
.adventure-log h3 { margin:0; font-size:16px; text-transform:uppercase; letter-spacing:1px; color:#fff; }
.adventure-events { display:flex; flex-direction:column; gap:8px; }
.adventure-event { border:1px solid #fff; padding:8px; background:#000; color:#fff; font-size:14px; display:flex; flex-direction:column; gap:6px; box-shadow:0 0 0 2px #000 inset; }
.adventure-event .event-header { display:flex; justify-content:space-between; font-size:11px; color:#ccc; letter-spacing:1px; text-transform:uppercase; }
.adventure-event .event-message { font-weight:bold; }
.adventure-event .event-meta { font-size:12px; color:#e0e0e0; }
.adventure-event .event-cards { display:flex; flex-wrap:wrap; gap:6px; }
.adventure-event.has-cards .event-message { margin-bottom:2px; }
.adventure-event.empty { border:1px dashed #fff; text-align:center; font-style:italic; color:#8a8a8a; padding:12px; background:#000; }
.event-card { border:1px solid #fff; background:#111; color:#fff; padding:6px 8px; font-size:12px; display:flex; flex-direction:column; gap:2px; cursor:pointer; transition:background 0.2s ease; }
.event-card .card-title { font-size:11px; text-transform:uppercase; letter-spacing:0.5px; color:#c7c7c7; }
.event-card .card-body { font-size:12px; font-weight:bold; }
.event-card:hover { background:#1d1d1d; }
.event-card:focus { outline:1px dashed #fff; outline-offset:2px; }
.event-card .card-actions { display:flex; justify-content:flex-end; margin-top:4px; }
.event-card .card-action { font-family:'Courier New', monospace; font-size:10px; text-transform:uppercase; letter-spacing:1px; padding:2px 6px; border:1px solid #fff; background:#000; color:#fff; cursor:pointer; transition:background 0.2s ease, color 0.2s ease; border-radius:0; line-height:1.2; }
.event-card .card-action:hover,
.event-card .card-action:focus { background:#1d1d1d; color:#fff; outline:none; }
.event-card.item-card { border-style:dashed; }
.event-card.opponent-card[data-result='defeat'] { border-color:#f28b82; }
.event-card.opponent-card[data-result='victory'] { border-style:double; }
.event-card.has-replay { box-shadow:0 0 0 1px #fff inset; }
.adventure-history {
  border:2px solid var(--retro-black);
  background:var(--retro-white);
  padding:12px;
  max-height:220px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:8px;
  box-shadow:0 0 0 3px var(--retro-black) inset;
}
.adventure-history h3 {
  margin:0 0 8px;
  font-size:16px;
  text-transform:uppercase;
  letter-spacing:2px;
}
.adventure-history-entries {
  display:flex;
  flex-direction:column;
  gap:8px;
}
.adventure-history-entry {
  border:2px solid #d0d0d0;
  padding:8px;
  background:var(--retro-white);
  font-size:13px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.adventure-history-entry.outcome-complete { border-color:#9ccc65; background:#eef9e6; }
.adventure-history-entry.outcome-defeat { border-color:#f28b82; background:#ffe7e7; }
.adventure-history-empty {
  border:2px dashed #bbb;
  padding:10px;
  text-align:center;
  font-style:italic;
  font-size:13px;
  background:var(--retro-white);
}
.history-header { font-weight:bold; text-transform:uppercase; font-size:13px; }
.history-details, .history-timeline, .history-rewards, .history-items { font-size:12px; }
.history-items { font-style:italic; }
.opponent-preview {
  border:2px solid var(--retro-black);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
  background:var(--retro-white);
  box-shadow:0 0 0 3px var(--retro-black) inset;
}
.opponent-header {
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  border-bottom:2px solid var(--retro-black);
  padding-bottom:6px;
}
.opponent-name {
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
}
.opponent-meta { font-size:12px; }
.equipment-section,
.rotation-section {
  display:flex;
  flex-direction:column;
  gap:6px;
}
.equipment-section .section-title,
.rotation-section .section-title {
  font-weight:bold;
  text-transform:uppercase;
  border-bottom:2px solid var(--retro-black);
  padding-bottom:4px;
  letter-spacing:1px;
}
.equipment-list {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(140px,1fr));
  gap:6px;
}
.equipment-entry {
  border:2px solid var(--retro-black);
  padding:6px;
  display:flex;
  justify-content:space-between;
  background:var(--retro-white);
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
.equipment-entry.empty { border-style:dashed; }
.equipment-entry .slot {
  font-weight:bold;
  margin-right:4px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.rotation-list {
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.rotation-chip {
  border:2px solid var(--retro-black);
  padding:4px 8px;
  background:var(--retro-white);
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  box-shadow:0 0 0 2px var(--retro-black) inset;
}
.opponent-preview.compact { background:#000; color:#fff; border-color:#fff; box-shadow:0 0 0 2px #000 inset; font-size:12px; }
.opponent-preview.compact .opponent-header { border-color:#fff; }
.opponent-preview.compact .opponent-name { color:#fff; }
.opponent-preview.compact .opponent-meta { color:#ddd; }
.opponent-preview.compact .equipment-section .section-title,
.opponent-preview.compact .rotation-section .section-title { border-color:#fff; }
.opponent-preview.compact .equipment-entry { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .rotation-chip { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .stats-table th,
.opponent-preview.compact .stats-table td { border-color:#fff; color:#fff; }
