* {
  box-sizing: border-box;
}

html {
  font-size: 16px;
}

body {
  margin: 0;
  background: #f5f1eb;
  color: #111;
  font-family: 'Courier New', monospace;
  line-height: 1.5;
  padding: 24px 16px 48px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  min-height: 100vh;
  width: 100%;
}

button {
  background: #fff;
  color: #000;
  border: 2px solid #000;
  padding: 10px 16px;
  cursor: pointer;
  font-family: 'Courier New', monospace;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-weight: bold;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  touch-action: manipulation;
}

button:hover {
  transform: translate(-1px, -1px);
  box-shadow: 4px 4px 0 #000;
}

button:active {
  transform: translate(0, 0);
  box-shadow: 0 0 0 #000;
}

button:focus-visible {
  outline: 2px dashed #000;
  outline-offset: 3px;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

input,
select,
textarea {
  font-family: 'Courier New', monospace;
  border: 2px solid #000;
  background: #fff;
  padding: 10px 12px;
  font-size: 0.95rem;
  width: 100%;
}

select {
  cursor: pointer;
}

#tabs {
  display: flex;
  align-items: center;
  gap: 8px;
  border-bottom: 2px solid #000;
  padding: 4px 4px 8px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scrollbar-width: thin;
  scrollbar-color: #000 transparent;
}

#tabs button {
  flex: 0 0 auto;
  min-width: 140px;
  border-bottom: none;
  scroll-snap-align: center;
}

#tabs::-webkit-scrollbar {
  height: 6px;
}

#tabs::-webkit-scrollbar-track {
  background: transparent;
}

#tabs::-webkit-scrollbar-thumb {
  background: #000;
}

#content {
  border: 2px solid #000;
  padding: 24px;
  background: #fff;
  width: 100%;
  border-radius: 12px;
  box-shadow: 10px 10px 0 #000;
}

@media (min-width: 1024px) {
  #tabs {
    justify-content: space-between;
  }

  #tabs button {
    flex: 1 1 0;
  }
}
.tab-pane { display:none; }
.tab-pane.active { display:block; }
.tab-pane#character.active { display:block; }
.hidden { display:none !important; }
#auth,
#character-select {
  border: 2px solid #000;
  padding: 24px;
  margin: 0;
  background: #fff;
  box-shadow: 8px 8px 0 #000;
  border-radius: 12px;
  width: min(100%, 960px);
}

#auth {
  width: min(100%, 420px);
  display: flex;
  flex-direction: column;
  gap: 12px;
  text-align: center;
  align-items: stretch;
}

#auth button {
  width: 100%;
}

#game {
  width: min(100%, 1100px);
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

#character-select {
  display: flex;
  flex-direction: column;
  gap: 20px;
  text-align: center;
  align-items: stretch;
}

#auth input {
  margin: 0;
}

.character-select-header h2 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:2px;
}

.character-select-header p {
  margin:4px 0 0;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  padding: 16px;
  border: 2px solid #000;
  background: #fff;
  box-shadow: inset 0 0 0 4px #fff;
}

.character-card {
  border: 2px solid #000;
  background: #fff;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: 6px 6px 0 #000;
  min-height: 280px;
  text-align: left;
  border-radius: 10px;
}

.character-card .card-header {
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:8px;
}

.character-card .character-name {
  font-size:20px;
  text-transform:uppercase;
  letter-spacing:1px;
  word-break:break-word;
}

.character-card .character-level {
  font-size:14px;
  text-transform:uppercase;
}

.character-card .character-type {
  border:1px solid #000;
  background:#000;
  color:#fff;
  padding:4px 6px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .character-xp {
  display:flex;
  flex-direction:column;
  gap:4px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .xp-label {
  font-weight:bold;
}

.character-card .xp-bar {
  width:100%;
  height:12px;
  border:1px solid #000;
  background:#fff;
  position:relative;
}

.character-card .xp-fill {
  position:absolute;
  top:0;
  bottom:0;
  left:0;
  background:#000;
}

.character-card .character-attributes {
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:8px;
}

.character-card .attribute {
  border:1px solid #000;
  padding:4px 6px;
  display:flex;
  justify-content:space-between;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .attribute .value {
  font-weight:bold;
}

.character-card .character-gold {
  border:1px solid #000;
  padding:4px 6px;
  text-transform:uppercase;
  font-weight:bold;
}

.character-card button {
  margin-top:auto;
  width:100%;
  font-weight:bold;
  text-transform:uppercase;
}

.character-select-actions {
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
}
.character-select-actions button {
  min-width: 200px;
}

.character-card .xp-hint {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card-list.empty {
  display: flex;
  justify-content: center;
}

.character-empty-card {
  border:2px solid #000;
  padding:24px;
  min-width:240px;
  min-height:200px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  box-shadow:6px 6px 0 #000;
}

#rotation-container {
  margin-top: 8px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 16px;
  width: 100%;
}

.rotation-hint {
  margin: 0;
  text-align: center;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #555;
}

#rotation-container .rotation-settings {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

#rotation-container .rotation-settings label {
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
}

#rotation-container .lists {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
  align-items: stretch;
  justify-content: center;
}

#rotation-container .pool {
  flex: 1 1 320px;
  max-width: 520px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

#rotation-container .ability-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  margin-bottom: 16px;
}

#rotation-container .ability-card {
  border: 2px solid #000;
  padding: 12px;
  text-align: center;
  cursor: grab;
  background: #fff;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  justify-content: center;
  min-height: 72px;
  touch-action: manipulation;
  user-select: none;
}

#rotation-container .ability-card:active {
  cursor: grabbing;
}

#rotation-container .ability-card:focus-visible {
  outline: 2px dashed #000;
  outline-offset: 4px;
}

.ability-card-name {
  font-weight: bold;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.ability-card-action {
  display: none;
  align-self: center;
  padding: 6px 10px;
  min-height: 32px;
  font-size: 0.75rem;
  letter-spacing: 0;
  box-shadow: 3px 3px 0 #000;
}

.ability-card:hover .ability-card-action,
.ability-card:focus-within .ability-card-action,
.supports-touch .ability-card-action {
  display: inline-flex;
}

#rotation-container ul {
  list-style: none;
  padding: 12px;
  margin: 0;
  border: 2px solid #000;
  min-width: 240px;
  min-height: 220px;
  max-height: 360px;
  overflow-y: auto;
  background: #fff;
  border-radius: 12px;
  box-shadow: inset 0 0 0 2px #fff;
}

#rotation-container li {
  border-bottom: 1px solid #000;
  padding: 8px 10px;
  cursor: grab;
  display: flex;
  align-items: center;
  gap: 12px;
}

#rotation-container li:last-child {
  border-bottom: none;
}

.rotation-item {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
}

.rotation-item:focus-within {
  outline: 2px dashed #000;
  outline-offset: 2px;
}

.rotation-item-name {
  flex: 1;
  font-weight: bold;
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

.rotation-item-actions {
  display: flex;
  gap: 6px;
  align-items: center;
}

.rotation-item-actions button {
  padding: 4px 8px;
  min-height: 32px;
  font-size: 0.75rem;
  letter-spacing: 0;
  min-width: 36px;
}

.rotation-item button {
  box-shadow: 3px 3px 0 #000;
}

.supports-touch .rotation-item-actions {
  display: flex;
}

@media (hover: hover) and (pointer: fine) {
  .rotation-item-actions {
    display: none;
  }

  .rotation-item:hover .rotation-item-actions,
  .rotation-item:focus-within .rotation-item-actions {
    display: flex;
  }
}

#rotation-error {
  margin-top: 8px;
}

#rotation-delete {
  border: 2px dashed #000;
  padding: 16px;
  min-height: 56px;
  margin-top: 12px;
  text-align: center;
  color: #a00;
  border-radius: 12px;
  background: #fff5f5;
  font-weight: bold;
  letter-spacing: 1px;
}

#rotation-delete:focus-visible {
  outline: 2px dashed #a00;
  outline-offset: 4px;
}

#name-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(245,241,235,0.95); display:flex; align-items:center; justify-content:center; padding:16px; z-index:1000; }
#name-dialog .dialog-box { border:2px solid #000; padding:20px; background:#fff; box-shadow:8px 8px 0 #000; border-radius:12px; width:100%; max-width:360px; display:flex; flex-direction:column; gap:12px; }
#name-dialog input { width:100%; margin-top:0; }
#name-dialog .dialog-buttons { margin-top:8px; text-align:right; display:flex; justify-content:flex-end; gap:8px; }

.tooltip { position:absolute; background:#fff; border:1px solid #000; padding:4px; pointer-events:none; z-index:1000; }
.tooltip.hidden { display:none; }
.tooltip[data-theme='dark'] { background:#000; border-color:#fff; color:#fff; }
.tooltip[data-theme='dark'] .tooltip-grid .label { color:#bfbfbf; }
.tooltip-grid { display:grid; grid-template-columns:auto auto; gap:2px 8px; }
.tooltip-grid .label { font-weight:bold; text-align:right; }

#battle-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; padding:24px; z-index:1000; }
#battle-dialog .dialog-box { border:2px solid #000; padding:20px; width:100%; max-width:840px; background:#fff; display:flex; flex-direction:column; gap:16px; border-radius:12px; box-shadow:12px 12px 0 #000; max-height:calc(100vh - 48px); overflow-y:auto; }
#battle-dialog .combatants-row { display:flex; gap:16px; margin-bottom:16px; }
#battle-dialog .combatant { flex:1; border:1px solid #000; padding:12px; }
#battle-dialog .combatant .name { font-weight:bold; text-align:center; margin-bottom:8px; }
#battle-dialog .bars { display:flex; flex-direction:column; gap:6px; }
#battle-dialog .useable-slots { display:flex; justify-content:center; gap:8px; margin-top:8px; }
#battle-dialog .useable-slot { width:18px; height:18px; border:1px solid #000; background:#fff; position:relative; }
#battle-dialog .useable-slot::before,
#battle-dialog .useable-slot::after {
  content:"";
  position:absolute;
  top:3px;
  bottom:3px;
  left:50%;
  width:2px;
  background:#000;
  transform-origin:center;
  opacity:0;
}
#battle-dialog .useable-slot::before { transform:translateX(-50%) rotate(45deg); }
#battle-dialog .useable-slot::after { transform:translateX(-50%) rotate(-45deg); }
#battle-dialog .useable-slot.available { background:#000; }
#battle-dialog .useable-slot.empty::before,
#battle-dialog .useable-slot.empty::after,
#battle-dialog .useable-slot.used::before,
#battle-dialog .useable-slot.used::after { opacity:1; }
#battle-dialog .useable-slot.used { background:#fff; }
.bar {
  position:relative;
  border:1px solid #000;
  height:12px;
  background:#fff;
  overflow:hidden;
}
.bar .fill {
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  background:#000;
  width:100%;
}
.bar .label {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:10px;
  font-weight:bold;
  color:#fff;
  pointer-events:none;
}
.bar .label .value {
  pointer-events:none;
  white-space:nowrap;
}
#battle-log { border:1px solid #000; height:220px; overflow-y:auto; padding:8px; display:flex; flex-direction:column; gap:8px; margin-top:16px; }
#battle-log .log-message { max-width:75%; padding:6px 8px; border:1px solid #000; }
#battle-log .log-message.you { align-self:flex-start; background:#000; color:#fff; border-color:#000; }
#battle-log .log-message.opponent { align-self:flex-end; background:#fff; color:#000; border-color:#000; text-align:right; }
#battle-log .log-message.neutral { align-self:center; background:#fff; color:#000; border-style:dashed; text-align:center; }
#battle-dialog .dialog-buttons { text-align:right; margin-top:16px; display:flex; justify-content:flex-end; gap:8px; }

.stats-table { border-collapse:collapse; margin-bottom:8px; width:100%; }
.stats-table th, .stats-table td { border:1px solid #000; padding:4px; }
.stats-table .section td { font-weight:bold; text-align:center; }

.character-page { display:flex; flex-direction:column; gap:16px; width:100%; }
.character-hero {
  display:flex;
  gap:16px;
  align-items:stretch;
  border:2px solid #000;
  background:#fff;
  padding:16px;
  box-shadow:0 0 0 4px #000 inset;
}
.hero-emblem {
  width:120px;
  min-height:120px;
  border:2px solid #000;
  background:repeating-linear-gradient(45deg, #000 0px, #000 6px, #fff 6px, #fff 12px);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:4px;
}
.hero-body { flex:1; display:flex; flex-direction:column; gap:12px; }
.hero-header { display:flex; align-items:baseline; gap:12px; }
.hero-name { font-size:28px; text-transform:uppercase; letter-spacing:2px; }
.hero-type {
  border:1px solid #000;
  background:#000;
  color:#fff;
  padding:4px 8px;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.hero-meta-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:8px;
}
.hero-meta-item {
  border:1px solid #000;
  background:#fff;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:2px;
}
.hero-meta-item .label {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.hero-meta-item .value { font-size:16px; font-weight:bold; }
.hero-xp { display:flex; flex-direction:column; gap:6px; }
.xp-label { font-weight:bold; letter-spacing:1px; }
.xp-bar { border:1px solid #000; height:16px; background:#f8f8f8; position:relative; overflow:hidden; }
.xp-bar::before {
  content:'';
  position:absolute;
  inset:0;
  background:repeating-linear-gradient(90deg, #f8f8f8 0px, #f8f8f8 6px, #e4e4e4 6px, #e4e4e4 12px);
  opacity:0.7;
}
.xp-bar-fill {
  position:relative;
  height:100%;
  background:#000;
  box-shadow:0 0 0 1px #000 inset;
}
.hero-xp.ready .xp-bar-fill { animation:pulse-bar 1s steps(2) infinite; }
.xp-hint { font-size:12px; color:#444; text-transform:uppercase; letter-spacing:1px; }
.xp-ready-text { font-size:12px; font-weight:bold; text-transform:uppercase; letter-spacing:1px; }
.hero-actions {
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-width:160px;
  gap:12px;
}
.hero-status {
  border:1px solid #000;
  padding:8px;
  background:#fff;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
  text-align:center;
}
.hero-status.ready { background:#000; color:#fff; }
.hero-note {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#444;
}
.character-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  gap:16px;
}
.character-card {
  border:2px solid #000;
  background:#fff;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 3px #000 inset;
}
.character-card h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:16px;
}
.highlight-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:12px;
}
.highlight-item {
  border:1px solid #000;
  background:repeating-linear-gradient(0deg, #fff 0px, #fff 8px, #f0f0f0 8px, #f0f0f0 16px);
  padding:8px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.highlight-item .label {
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.highlight-item .value { font-size:18px; font-weight:bold; }
.character-card .loadout-summary { display:flex; flex-direction:column; gap:16px; }
.summary-tables {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
}
.summary-extras {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
  align-items:start;
}
.chance-card, .onhit-card {
  border:1px solid #000;
  background:#fff;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.card-heading {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}
.onhit-card .simple-list { flex:1; }

@keyframes pulse-bar {
  0%, 100% { opacity:1; }
  50% { opacity:0.4; }
}

#levelup-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(245,241,235,0.95); display:flex; align-items:center; justify-content:center; padding:16px; z-index:1000; }
#levelup-dialog .dialog-box { border:2px solid #000; padding:20px; width:100%; max-width:360px; background:#fff; box-shadow:8px 8px 0 #000; border-radius:12px; display:flex; flex-direction:column; gap:12px; }
#levelup-dialog .dialog-buttons { margin-top:8px; text-align:right; display:flex; justify-content:flex-end; gap:8px; }

#shop-header { display:flex; justify-content:space-between; align-items:flex-start; gap:8px; margin-bottom:12px; flex-wrap:wrap; }
#shop-gold { font-weight:bold; text-transform:uppercase; }
.message { border:1px solid #000; padding:4px 6px; background:#fff; }
.message.error { background:#000; color:#fff; }
.item-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(150px,1fr)); gap:8px; }
.item-card { border:1px solid #000; padding:8px; display:flex; flex-direction:column; gap:6px; background:#fff; min-height:150px; }
.item-card .name { font-weight:bold; text-transform:uppercase; }
.item-card .meta { font-size:12px; }
.item-card .cost { font-weight:bold; }
.item-card .owned { font-size:12px; }
.item-card button { margin-top:auto; }

#shop-controls { flex:0 0 280px; border:2px solid #000; background:#fff; padding:20px; display:flex; flex-direction:column; gap:16px; box-shadow:6px 6px 0 #000; border-radius:12px; position:sticky; top:16px; }
.shop-layout { display:flex; gap:24px; align-items:flex-start; flex-wrap:wrap; }
#shop-controls h3 { margin:0; text-transform:uppercase; font-size:14px; letter-spacing:1px; }
.filter-section { display:flex; flex-direction:column; gap:10px; border:2px solid #000; padding:12px; background:#fff; box-shadow:4px 4px 0 #000; border-radius:10px; }
.filter-options { display:flex; flex-direction:column; gap:8px; }
.filter-option { display:flex; align-items:center; gap:8px; text-transform:uppercase; font-size:12px; letter-spacing:1px; cursor:pointer; }
.filter-option input[type='checkbox'] { appearance:none; width:16px; height:16px; border:2px solid #000; background:#fff; display:inline-block; position:relative; }
.filter-option input[type='checkbox']:checked::after { content:''; position:absolute; top:2px; left:2px; right:2px; bottom:2px; background:#000; }
.filter-option input[type='checkbox']:focus { outline:2px solid #000; outline-offset:2px; }
#shop-sort { width:100%; border:2px solid #000; background:#fff; color:#000; padding:6px; text-transform:uppercase; font-family:'Courier New', monospace; }
#shop-sort:focus { outline:2px solid #000; outline-offset:2px; }
.filter-reset { font-weight:bold; text-transform:uppercase; box-shadow:4px 4px 0 #000; }

.shop-results { flex:1; display:flex; flex-direction:column; gap:12px; }
.shop-results-header { display:flex; justify-content:space-between; align-items:center; padding:8px 0; text-transform:uppercase; font-size:12px; letter-spacing:1px; }
#shop-results-summary { font-weight:bold; }
.shop-category-list { display:flex; flex-direction:column; gap:16px; }
.shop-category { border:2px solid #000; background:#fff; box-shadow:6px 6px 0 #000; display:flex; flex-direction:column; border-radius:12px; overflow:hidden; }
.shop-category-header { padding:14px; border-bottom:2px solid #000; text-transform:uppercase; font-weight:bold; letter-spacing:1px; display:flex; justify-content:space-between; align-items:center; }
.shop-subsection { padding:14px; display:flex; flex-direction:column; gap:12px; }
.shop-subsection + .shop-subsection { border-top:2px solid #000; }
.shop-subsection-title { display:flex; justify-content:space-between; align-items:center; text-transform:uppercase; font-weight:bold; letter-spacing:1px; }
.shop-subsection-count { font-size:12px; }
.shop-card-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(180px,1fr)); gap:12px; }
.shop-item-card { border:2px solid #000; background:#fff; box-shadow:4px 4px 0 #000; padding:12px; display:flex; flex-direction:column; gap:10px; min-height:0; border-radius:10px; }
.shop-item-card .card-header { display:flex; justify-content:space-between; align-items:flex-start; text-transform:uppercase; font-weight:bold; letter-spacing:1px; gap:8px; }
.shop-item-card .card-name { flex:1; font-size:14px; line-height:1.2; }
.shop-item-card .card-rarity { border:2px solid #000; padding:2px 6px; font-size:11px; }
.shop-item-card .card-tags { display:flex; flex-wrap:wrap; gap:4px; font-size:10px; text-transform:uppercase; letter-spacing:1px; }
.shop-item-card .card-tag { border:1px solid #000; padding:2px 6px; }
.shop-item-card .card-footer { margin-top:auto; display:flex; justify-content:space-between; align-items:center; gap:8px; font-weight:bold; text-transform:uppercase; letter-spacing:1px; }
.shop-item-card .card-cost { font-size:12px; }
.shop-item-card button { font-weight:bold; text-transform:uppercase; box-shadow:3px 3px 0 #000; padding:6px 10px; }
.shop-empty { padding:24px; text-align:center; text-transform:uppercase; letter-spacing:1px; font-weight:bold; border:2px dashed #000; }

@media (max-width: 1024px) {
  .shop-layout { flex-direction: column; }
  #shop-controls { width: 100%; position: static; }
}

@media (max-width: 768px) {
  body {
    padding: 16px 12px 32px;
    gap: 20px;
  }

  #auth,
  #character-select {
    padding: 20px;
    box-shadow: 6px 6px 0 #000;
  }

  #content {
    padding: 16px;
    box-shadow: 6px 6px 0 #000;
  }

  #tabs {
    gap: 6px;
  }

  #tabs button {
    min-width: 120px;
    font-size: 0.85rem;
  }

  .shop-layout {
    gap: 20px;
  }

  #shop-controls {
    flex: 1 1 auto;
    padding: 16px;
  }

  .inventory-layout {
    flex-direction: column;
    gap: 20px;
  }

  .equipment-slots {
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

  .character-hero {
    flex-direction: column;
  }

  .hero-actions {
    min-width: 0;
  }

  .hero-emblem {
    align-self: center;
  }

  #rotation-container ul {
    min-width: unset;
    width: 100%;
    max-height: 320px;
  }

  #rotation-container .pool {
    max-width: none;
  }

  #rotation-delete {
    width: 100%;
  }

  #battle-dialog {
    padding: 24px 12px;
  }

  #battle-dialog .combatants-row {
    flex-direction: column;
  }

  #battle-dialog .dialog-box {
    gap: 12px;
  }
}

@media (max-width: 540px) {
  html {
    font-size: 15px;
  }

  button {
    min-height: 40px;
    padding: 8px 12px;
  }

  #tabs button {
    min-width: 110px;
  }

  #shop-controls {
    padding: 14px;
  }

  .filter-section {
    padding: 10px;
  }

  #rotation-container .ability-grid {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }

  .shop-item-card {
    padding: 10px;
  }

  .inventory-column {
    min-width: 0;
  }
}

.inventory-layout { display:flex; gap:16px; flex-wrap:wrap; }
.inventory-column { flex:1; min-width:220px; }
.inventory-column h3 { margin-top:0; border-bottom:1px solid #000; padding-bottom:4px; }
.equipment-panel { max-width:320px; }
.equipment-slots { display:grid; grid-template-columns:repeat(2, minmax(140px,1fr)); gap:8px; margin-bottom:16px; }
.slot-section-header { grid-column:1 / -1; font-weight:bold; text-transform:uppercase; letter-spacing:1px; padding:4px 0; }
.equipment-slots .slot-section-header:first-child { padding-top:0; }
.equipment-slot { border:1px solid #000; padding:8px; min-height:110px; display:flex; flex-direction:column; background:#fff; }
.equipment-slot.empty { border-style:dashed; }
.equipment-slot .slot-name { font-weight:bold; margin-bottom:4px; }
.equipment-slot .item-name { flex-grow:1; }
.equipment-slot button { margin-top:8px; }
.equipment-slot.useable-slot { background:#f8f8f8; }
.equipment-slot.useable-slot.empty { background:#fff; }

.loadout-summary { display:flex; flex-direction:column; gap:12px; }
.loadout-summary .stats-table { width:100%; }
.simple-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:4px; }
.simple-list li { border:1px solid #000; padding:4px 6px; background:#fff; }
.challenge-panel { border:1px solid #000; padding:12px; display:flex; flex-direction:column; gap:12px; background:#fff; }
.challenge-round { font-weight:bold; text-transform:uppercase; text-align:center; font-size:18px; }
.challenge-reward, .challenge-next { border:1px solid #000; padding:6px; background:#fff; }
.challenge-actions { display:flex; justify-content:center; gap:8px; }
.challenge-message { align-self:center; }
.challenge-empty { border:1px dashed #000; padding:8px; text-align:center; }
.adventure-panel { border:1px solid #000; padding:12px; display:flex; flex-direction:column; gap:12px; background:#fff; }
.adventure-status-text { font-weight:bold; text-transform:uppercase; text-align:center; font-size:18px; }
.adventure-progress { display:flex; flex-direction:column; gap:4px; }
.adventure-progress-bar { height:16px; border:2px solid #000; background:#dcdcdc; border-radius:0; overflow:hidden; }
.adventure-progress-bar .fill {
  height:100%;
  width:0%;
  background:repeating-linear-gradient(90deg, #111 0px, #111 8px, #2b2b2b 8px, #2b2b2b 16px);
  transition:width 0.4s steps(12);
}
.adventure-progress-label { text-align:center; font-size:12px; color:#111; text-transform:uppercase; letter-spacing:1px; }
.adventure-timers { display:flex; justify-content:space-between; flex-wrap:wrap; gap:6px; font-size:14px; }
.adventure-actions { display:flex; justify-content:center; gap:8px; flex-wrap:wrap; align-items:center; }
.adventure-day-picker { display:flex; align-items:center; gap:6px; font-size:14px; }
.adventure-day-picker select { font-family:'Courier New', monospace; padding:4px; border:1px solid #000; background:#fff; }
.adventure-message { text-align:center; }
.adventure-log { border:2px solid #000; background:#070707; color:#fff; padding:8px; max-height:260px; overflow-y:auto; display:flex; flex-direction:column; gap:8px; }
.adventure-log h3 { margin:0; font-size:16px; text-transform:uppercase; letter-spacing:1px; color:#fff; }
.adventure-events { display:flex; flex-direction:column; gap:8px; }
.adventure-event { border:1px solid #fff; padding:8px; background:#000; color:#fff; font-size:14px; display:flex; flex-direction:column; gap:6px; box-shadow:0 0 0 2px #000 inset; }
.adventure-event .event-header { display:flex; justify-content:space-between; font-size:11px; color:#ccc; letter-spacing:1px; text-transform:uppercase; }
.adventure-event .event-message { font-weight:bold; }
.adventure-event .event-meta { font-size:12px; color:#e0e0e0; }
.adventure-event .event-cards { display:flex; flex-wrap:wrap; gap:6px; }
.adventure-event.has-cards .event-message { margin-bottom:2px; }
.adventure-event.empty { border:1px dashed #fff; text-align:center; font-style:italic; color:#8a8a8a; padding:12px; background:#000; }
.event-card { border:1px solid #fff; background:#111; color:#fff; padding:6px 8px; font-size:12px; display:flex; flex-direction:column; gap:2px; cursor:pointer; transition:background 0.2s ease; }
.event-card .card-title { font-size:11px; text-transform:uppercase; letter-spacing:0.5px; color:#c7c7c7; }
.event-card .card-body { font-size:12px; font-weight:bold; }
.event-card:hover { background:#1d1d1d; }
.event-card:focus { outline:1px dashed #fff; outline-offset:2px; }
.event-card .card-actions { display:flex; justify-content:flex-end; margin-top:4px; }
.event-card .card-action { font-family:'Courier New', monospace; font-size:10px; text-transform:uppercase; letter-spacing:1px; padding:2px 6px; border:1px solid #fff; background:#000; color:#fff; cursor:pointer; transition:background 0.2s ease, color 0.2s ease; border-radius:0; line-height:1.2; }
.event-card .card-action:hover,
.event-card .card-action:focus { background:#1d1d1d; color:#fff; outline:none; }
.event-card.item-card { border-style:dashed; }
.event-card.opponent-card[data-result='defeat'] { border-color:#f28b82; }
.event-card.opponent-card[data-result='victory'] { border-style:double; }
.event-card.has-replay { box-shadow:0 0 0 1px #fff inset; }
.adventure-history { border:1px solid #000; background:#f9f9f9; padding:8px; max-height:220px; overflow-y:auto; display:flex; flex-direction:column; gap:6px; }
.adventure-history h3 { margin:0 0 6px; font-size:16px; text-transform:uppercase; }
.adventure-history-entries { display:flex; flex-direction:column; gap:6px; }
.adventure-history-entry { border:1px solid #d0d0d0; padding:6px; background:#fff; font-size:13px; display:flex; flex-direction:column; gap:2px; }
.adventure-history-entry.outcome-complete { border-color:#9ccc65; background:#eef9e6; }
.adventure-history-entry.outcome-defeat { border-color:#f28b82; background:#ffe7e7; }
.adventure-history-empty { border:1px dashed #bbb; padding:8px; text-align:center; font-style:italic; font-size:13px; background:#fff; }
.history-header { font-weight:bold; text-transform:uppercase; font-size:13px; }
.history-details, .history-timeline, .history-rewards, .history-items { font-size:12px; }
.history-items { font-style:italic; }
.opponent-preview { border:1px solid #000; padding:8px; display:flex; flex-direction:column; gap:8px; background:#fff; }
.opponent-header { display:flex; justify-content:space-between; align-items:flex-end; border-bottom:1px solid #000; padding-bottom:4px; }
.opponent-name { font-weight:bold; text-transform:uppercase; }
.opponent-meta { font-size:12px; }
.equipment-section, .rotation-section { display:flex; flex-direction:column; gap:4px; }
.equipment-section .section-title, .rotation-section .section-title { font-weight:bold; text-transform:uppercase; border-bottom:1px solid #000; padding-bottom:2px; }
.equipment-list { display:grid; grid-template-columns:repeat(auto-fit, minmax(140px,1fr)); gap:4px; }
.equipment-entry { border:1px solid #000; padding:4px; display:flex; justify-content:space-between; background:#fff; }
.equipment-entry.empty { border-style:dashed; }
.equipment-entry .slot { font-weight:bold; margin-right:4px; }
.rotation-list { display:flex; flex-wrap:wrap; gap:4px; }
.rotation-chip { border:1px solid #000; padding:2px 6px; background:#fff; font-size:12px; }
.opponent-preview.compact { background:#000; color:#fff; border-color:#fff; box-shadow:0 0 0 2px #000 inset; font-size:12px; }
.opponent-preview.compact .opponent-header { border-color:#fff; }
.opponent-preview.compact .opponent-name { color:#fff; }
.opponent-preview.compact .opponent-meta { color:#ddd; }
.opponent-preview.compact .equipment-section .section-title,
.opponent-preview.compact .rotation-section .section-title { border-color:#fff; }
.opponent-preview.compact .equipment-entry { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .rotation-chip { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .stats-table th,
.opponent-preview.compact .stats-table td { border-color:#fff; color:#fff; }
