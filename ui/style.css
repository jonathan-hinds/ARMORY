* { box-sizing: border-box; }
body { margin:0; background:#fff; color:#000; font-family:'Courier New', monospace; }
button { background:#fff; color:#000; border:1px solid #000; padding:8px; cursor:pointer; font-family:'Courier New', monospace; }
#tabs { display:flex; border-bottom:1px solid #000; }
#tabs button { flex:1; border-bottom:none; }
#tabs button.active { background:#000; color:#fff; }
#content { border:1px solid #000; padding:8px; }
.tab-pane { display:none; }
.tab-pane.active { display:block; }
.tab-pane#character.active { display:block; }
.hidden { display:none !important; }
#auth, #character-select { border:1px solid #000; padding:8px; margin:20px auto; background:#fff; box-shadow:6px 6px 0 #000; }
#game { max-width:800px; margin:20px auto; }
#auth { max-width:300px; }
#character-select { max-width:960px; display:flex; flex-direction:column; gap:16px; text-align:center; }
#auth input { width:100%; margin-bottom:8px; }

.character-select-header h2 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:2px;
}

.character-select-header p {
  margin:4px 0 0;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card-list {
  display:flex;
  gap:16px;
  padding:16px;
  overflow-x:auto;
  border:2px solid #000;
  background:#fff;
  box-shadow: inset 0 0 0 4px #fff;
  scroll-snap-type:x mandatory;
}

.character-card-list::-webkit-scrollbar {
  height:10px;
}

.character-card-list::-webkit-scrollbar-track {
  background:#fff;
  border:1px solid #000;
}

.character-card-list::-webkit-scrollbar-thumb {
  background:#000;
}

.character-card {
  flex:0 0 220px;
  border:2px solid #000;
  background:#fff;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
  scroll-snap-align:start;
  box-shadow:6px 6px 0 #000;
  min-height:280px;
  text-align:left;
}

.character-card .card-header {
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:8px;
}

.character-card .character-name {
  font-size:20px;
  text-transform:uppercase;
  letter-spacing:1px;
  word-break:break-word;
}

.character-card .character-level {
  font-size:14px;
  text-transform:uppercase;
}

.character-card .character-type {
  border:1px solid #000;
  background:#000;
  color:#fff;
  padding:4px 6px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .character-xp {
  display:flex;
  flex-direction:column;
  gap:4px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .xp-label {
  font-weight:bold;
}

.character-card .xp-bar {
  width:100%;
  height:12px;
  border:1px solid #000;
  background:#fff;
  position:relative;
}

.character-card .xp-fill {
  position:absolute;
  top:0;
  bottom:0;
  left:0;
  background:#000;
}

.character-card .character-attributes {
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:8px;
}

.character-card .attribute {
  border:1px solid #000;
  padding:4px 6px;
  display:flex;
  justify-content:space-between;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .attribute .value {
  font-weight:bold;
}

.character-card .character-gold {
  border:1px solid #000;
  padding:4px 6px;
  text-transform:uppercase;
  font-weight:bold;
}

.character-card button {
  margin-top:auto;
  width:100%;
  font-weight:bold;
  text-transform:uppercase;
}

.character-select-actions {
  display:flex;
  justify-content:center;
}

.character-card .xp-hint {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.character-card .character-adventure {
  border:1px solid #000;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:4px;
  text-transform:uppercase;
  letter-spacing:1px;
  background:#fff;
}
.character-card .character-adventure .adventure-title {
  font-size:11px;
  font-weight:bold;
}
.character-card .adventure-progress-bar {
  position:relative;
  height:10px;
  border:1px solid #000;
  background:repeating-linear-gradient(90deg, #fff 0px, #fff 6px, #f2f2f2 6px, #f2f2f2 12px);
  overflow:hidden;
}
.character-card .adventure-progress-fill {
  position:absolute;
  inset:0;
  background:#000;
  transition:width 0.2s ease-in-out;
}
.character-card .adventure-status-text {
  font-size:12px;
  font-weight:bold;
}
.character-card .adventure-time-remaining {
  font-size:11px;
  color:#444;
}
.character-card .character-adventure.adventure-loading .adventure-status-text {
  font-style:italic;
}
.character-card .character-adventure.adventure-complete {
  background:#f7f7f7;
}
.character-card .character-adventure.adventure-defeat {
  border-style:dashed;
}
.character-card .character-adventure.adventure-error .adventure-status-text {
  font-style:italic;
}

.character-card-list.empty {
  justify-content:center;
}

.character-empty-card {
  border:2px solid #000;
  padding:24px;
  min-width:240px;
  min-height:200px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  box-shadow:6px 6px 0 #000;
}

#rotation-container {
  margin-top:8px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
#rotation-container .rotation-settings {
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}
#rotation-container .rotation-settings label {
  font-weight:bold;
}
#rotation-container .lists {
  display:flex;
  gap:32px;
  align-items:flex-start;
  justify-content:center;
}
#rotation-container .pool {
  max-width:400px;
}
#rotation-container .ability-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(100px,1fr)); gap:8px; margin-bottom:16px; }
#rotation-container .ability-card { border:1px solid #000; padding:8px; text-align:center; cursor:move; }
#rotation-container ul { list-style:none; padding:0 0 8px; margin:0; border:1px solid #000; min-width:150px; min-height:200px; max-height:300px; overflow-y:auto; }
#rotation-container li { border-bottom:1px solid #000; padding:4px; cursor:move; }
#rotation-container li:last-child { border-bottom:none; }
#rotation-error { margin-top:8px; }

#rotation-delete {
  border:1px dashed #000;
  padding:8px;
  min-height:40px;
  margin-top:8px;
  text-align:center;
  color:#a00;
}

#name-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; align-items:center; justify-content:center; }
#name-dialog .dialog-box { border:1px solid #000; padding:8px; }
#name-dialog input { width:200px; margin-top:4px; }
#name-dialog .dialog-buttons { margin-top:8px; text-align:right; }

.tooltip { position:absolute; background:#fff; border:1px solid #000; padding:4px; pointer-events:none; z-index:1000; }
.tooltip.hidden { display:none; }
.tooltip[data-theme='dark'] { background:#000; border-color:#fff; color:#fff; }
.tooltip[data-theme='dark'] .tooltip-grid .label { color:#bfbfbf; }
.tooltip-grid { display:grid; grid-template-columns:auto auto; gap:2px 8px; }
.tooltip-grid .label { font-weight:bold; text-align:right; }

#battle-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; align-items:center; justify-content:center; padding:16px; z-index:1000; }
#battle-dialog .dialog-box { border:1px solid #000; padding:16px; width:100%; max-width:800px; background:#fff; display:flex; flex-direction:column; }
#battle-dialog .combatants-row { display:flex; gap:16px; margin-bottom:16px; }
#battle-dialog .combatant { flex:1; border:1px solid #000; padding:12px; }
#battle-dialog .combatant .name { font-weight:bold; text-align:center; margin-bottom:8px; }
#battle-dialog .bars { display:flex; flex-direction:column; gap:6px; }
#battle-dialog .useable-slots { display:flex; justify-content:center; gap:8px; margin-top:8px; }
#battle-dialog .useable-slot { width:18px; height:18px; border:1px solid #000; background:#fff; position:relative; }
#battle-dialog .useable-slot::before,
#battle-dialog .useable-slot::after {
  content:"";
  position:absolute;
  top:3px;
  bottom:3px;
  left:50%;
  width:2px;
  background:#000;
  transform-origin:center;
  opacity:0;
}
#battle-dialog .useable-slot::before { transform:translateX(-50%) rotate(45deg); }
#battle-dialog .useable-slot::after { transform:translateX(-50%) rotate(-45deg); }
#battle-dialog .useable-slot.available { background:#000; }
#battle-dialog .useable-slot.empty::before,
#battle-dialog .useable-slot.empty::after,
#battle-dialog .useable-slot.used::before,
#battle-dialog .useable-slot.used::after { opacity:1; }
#battle-dialog .useable-slot.used { background:#fff; }
.bar {
  position:relative;
  border:1px solid #000;
  height:12px;
  background:#fff;
  overflow:hidden;
}
.bar .fill {
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  background:#000;
  width:100%;
}
.bar .label {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:10px;
  font-weight:bold;
  color:#fff;
  pointer-events:none;
}
.bar .label .value {
  pointer-events:none;
  white-space:nowrap;
}
#battle-log { border:1px solid #000; height:220px; overflow-y:auto; padding:8px; display:flex; flex-direction:column; gap:8px; margin-top:16px; }
#battle-log .log-message { max-width:75%; padding:6px 8px; border:1px solid #000; }
#battle-log .log-message.you { align-self:flex-start; background:#000; color:#fff; border-color:#000; }
#battle-log .log-message.opponent { align-self:flex-end; background:#fff; color:#000; border-color:#000; text-align:right; }
#battle-log .log-message.neutral { align-self:center; background:#fff; color:#000; border-style:dashed; text-align:center; }
#battle-dialog .dialog-buttons { text-align:right; margin-top:16px; }

.stats-table { border-collapse:collapse; margin-bottom:8px; width:100%; }
.stats-table th, .stats-table td { border:1px solid #000; padding:4px; }
.stats-table .section td { font-weight:bold; text-align:center; }

.character-page { display:flex; flex-direction:column; gap:16px; width:100%; }
.character-hero {
  display:flex;
  gap:16px;
  align-items:stretch;
  border:2px solid #000;
  background:#fff;
  padding:16px;
  box-shadow:0 0 0 4px #000 inset;
}
.hero-emblem {
  width:120px;
  min-height:120px;
  border:2px solid #000;
  background:repeating-linear-gradient(45deg, #000 0px, #000 6px, #fff 6px, #fff 12px);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:4px;
}
.hero-body { flex:1; display:flex; flex-direction:column; gap:12px; }
.hero-header { display:flex; align-items:baseline; gap:12px; }
.hero-name { font-size:28px; text-transform:uppercase; letter-spacing:2px; }
.hero-type {
  border:1px solid #000;
  background:#000;
  color:#fff;
  padding:4px 8px;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.hero-meta-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:8px;
}
.hero-meta-item {
  border:1px solid #000;
  background:#fff;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:2px;
}
.hero-meta-item .label {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.hero-meta-item .value { font-size:16px; font-weight:bold; }
.hero-xp { display:flex; flex-direction:column; gap:6px; }
.xp-label { font-weight:bold; letter-spacing:1px; }
.xp-bar { border:1px solid #000; height:16px; background:#f8f8f8; position:relative; overflow:hidden; }
.xp-bar::before {
  content:'';
  position:absolute;
  inset:0;
  background:repeating-linear-gradient(90deg, #f8f8f8 0px, #f8f8f8 6px, #e4e4e4 6px, #e4e4e4 12px);
  opacity:0.7;
}
.xp-bar-fill {
  position:relative;
  height:100%;
  background:#000;
  box-shadow:0 0 0 1px #000 inset;
}
.hero-xp.ready .xp-bar-fill { animation:pulse-bar 1s steps(2) infinite; }
.xp-hint { font-size:12px; color:#444; text-transform:uppercase; letter-spacing:1px; }
.xp-ready-text { font-size:12px; font-weight:bold; text-transform:uppercase; letter-spacing:1px; }
.hero-actions {
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-width:160px;
  gap:12px;
}
.hero-status {
  border:1px solid #000;
  padding:8px;
  background:#fff;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
  text-align:center;
}
.hero-status.ready { background:#000; color:#fff; }
.hero-note {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#444;
}
.character-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  gap:16px;
}
.character-card {
  border:2px solid #000;
  background:#fff;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 3px #000 inset;
}
.character-card h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:16px;
}
.highlight-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:12px;
}
.highlight-item {
  border:1px solid #000;
  background:repeating-linear-gradient(0deg, #fff 0px, #fff 8px, #f0f0f0 8px, #f0f0f0 16px);
  padding:8px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.highlight-item .label {
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.highlight-item .value { font-size:18px; font-weight:bold; }
.character-card .loadout-summary { display:flex; flex-direction:column; gap:16px; }
.summary-tables {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
}
.summary-extras {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
  align-items:start;
}
.chance-card, .onhit-card {
  border:1px solid #000;
  background:#fff;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.card-heading {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}
.onhit-card .simple-list { flex:1; }

@keyframes pulse-bar {
  0%, 100% { opacity:1; }
  50% { opacity:0.4; }
}

#levelup-dialog { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; display:flex; align-items:center; justify-content:center; }
#levelup-dialog .dialog-box { border:1px solid #000; padding:8px; width:300px; }
#levelup-dialog .dialog-buttons { margin-top:8px; text-align:right; }

#shop-header { display:flex; justify-content:space-between; align-items:flex-start; gap:8px; margin-bottom:12px; flex-wrap:wrap; }
#shop-gold { font-weight:bold; text-transform:uppercase; }
.message { border:1px solid #000; padding:4px 6px; background:#fff; }
.message.error { background:#000; color:#fff; }
.item-grid,
.material-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
  gap:16px;
}

.inventory-item-card,
.inventory-material-card {
  position:relative;
}

.inventory-card-meta {
  color:#111;
  font-size:12px;
}

.inventory-card-description {
  color:#333;
  font-size:12px;
  font-style:italic;
}

.inventory-item-card .inventory-card-status {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  border:1px dashed #000;
  padding:2px 6px;
  align-self:flex-start;
}

.inventory-item-card.equipped {
  background:#000;
  color:#fff;
  border-color:#fff;
  box-shadow:4px 4px 0 #000, 0 0 0 2px #fff inset;
}

.inventory-item-card.equipped .card-description {
  color:#f2f2f2;
}

.inventory-item-card.equipped .card-rarity,
.inventory-item-card.equipped .card-tag {
  border-color:#fff;
  color:#fff;
}

.inventory-item-card.equipped .inventory-card-status,
.inventory-item-card.equipped .inventory-card-count {
  border-color:#fff;
  color:#fff;
}

.inventory-item-card.equipped button {
  background:#fff;
  color:#000;
}

.inventory-card-footer {
  gap:12px;
}

.inventory-card-count {
  font-size:12px;
  letter-spacing:1px;
}

.inventory-card-actions {
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:flex-end;
}

.inventory-card-actions button {
  flex:1 0 auto;
}


.shop-layout { display:flex; gap:16px; align-items:flex-start; flex-wrap:wrap; }
#shop-controls { flex:0 0 260px; border:2px solid #000; background:#fff; padding:16px; display:flex; flex-direction:column; gap:16px; box-shadow:6px 6px 0 #000; }
#shop-controls h3 { margin:0; text-transform:uppercase; font-size:14px; letter-spacing:1px; }
.filter-section { display:flex; flex-direction:column; gap:10px; border:2px solid #000; padding:12px; background:#fff; box-shadow:4px 4px 0 #000; }
.filter-options { display:flex; flex-direction:column; gap:8px; }
.filter-option { display:flex; align-items:center; gap:8px; text-transform:uppercase; font-size:12px; letter-spacing:1px; cursor:pointer; }
.filter-option input[type='checkbox'] { appearance:none; width:16px; height:16px; border:2px solid #000; background:#fff; display:inline-block; position:relative; }
.filter-option input[type='checkbox']:checked::after { content:''; position:absolute; top:2px; left:2px; right:2px; bottom:2px; background:#000; }
.filter-option input[type='checkbox']:focus { outline:2px solid #000; outline-offset:2px; }
#shop-sort { width:100%; border:2px solid #000; background:#fff; color:#000; padding:6px; text-transform:uppercase; font-family:'Courier New', monospace; }
#shop-sort:focus { outline:2px solid #000; outline-offset:2px; }
.filter-reset { font-weight:bold; text-transform:uppercase; box-shadow:4px 4px 0 #000; }

.shop-results { flex:1; display:flex; flex-direction:column; gap:12px; }
.shop-results-header { display:flex; justify-content:space-between; align-items:center; padding:8px 0; text-transform:uppercase; font-size:12px; letter-spacing:1px; }
#shop-results-summary { font-weight:bold; }
.shop-category-list { display:flex; flex-direction:column; gap:16px; }
.shop-category { border:2px solid #000; background:#fff; box-shadow:6px 6px 0 #000; display:flex; flex-direction:column; }
.shop-category-header { padding:14px; border-bottom:2px solid #000; text-transform:uppercase; font-weight:bold; letter-spacing:1px; display:flex; justify-content:space-between; align-items:center; }
.shop-subsection { padding:14px; display:flex; flex-direction:column; gap:12px; }
.shop-subsection + .shop-subsection { border-top:2px solid #000; }
.shop-subsection-title { display:flex; justify-content:space-between; align-items:center; text-transform:uppercase; font-weight:bold; letter-spacing:1px; }
.shop-subsection-count { font-size:12px; }
.shop-card-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(180px,1fr)); gap:12px; }
.shop-item-card { border:2px solid #000; background:#fff; box-shadow:4px 4px 0 #000; padding:10px; display:flex; flex-direction:column; gap:8px; min-height:0; }
.shop-item-card .card-header { display:flex; justify-content:space-between; align-items:flex-start; text-transform:uppercase; font-weight:bold; letter-spacing:1px; gap:8px; }
.shop-item-card .card-name { flex:1; font-size:14px; line-height:1.2; }
.shop-item-card .card-rarity { border:2px solid #000; padding:2px 6px; font-size:11px; }
.shop-item-card .card-tags { display:flex; flex-wrap:wrap; gap:4px; font-size:10px; text-transform:uppercase; letter-spacing:1px; }
.shop-item-card .card-tag { border:1px solid #000; padding:2px 6px; }
.shop-item-card .card-description { font-size:12px; color:#333; }
.shop-item-card .card-footer { margin-top:auto; display:flex; justify-content:space-between; align-items:center; gap:8px; font-weight:bold; text-transform:uppercase; letter-spacing:1px; }
.shop-item-card .card-cost { font-size:12px; }
.shop-item-card button { font-weight:bold; text-transform:uppercase; box-shadow:3px 3px 0 #000; padding:6px 10px; }
.shop-empty { padding:24px; text-align:center; text-transform:uppercase; letter-spacing:1px; font-weight:bold; border:2px dashed #000; }

.inventory-controls {
  border:2px solid #000;
  background:#fff;
  box-shadow:6px 6px 0 #000;
  margin-bottom:16px;
  display:flex;
  flex-direction:column;
}

.inventory-controls-bar {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 16px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}

.inventory-controls-actions {
  display:flex;
  align-items:center;
  gap:12px;
}

.inventory-filter-toggle {
  font-weight:bold;
  text-transform:uppercase;
  box-shadow:4px 4px 0 #000;
  padding:8px 12px;
  background:#fff;
  color:#000;
  border:2px solid #000;
}

.inventory-filter-panel {
  display:none;
  border-top:2px solid #000;
  padding:16px;
  background:repeating-linear-gradient(90deg, #fff 0px, #fff 8px, #f4f4f4 8px, #f4f4f4 16px);
}

.inventory-filter-panel.open {
  display:block;
}

.inventory-filter-groups {
  display:flex;
  flex-wrap:wrap;
  gap:16px;
}

.inventory-filter-panel .filter-section {
  flex:1;
  min-width:180px;
}

.inventory-filter-panel h3 {
  margin:0;
  text-transform:uppercase;
  font-size:14px;
  letter-spacing:1px;
}

.inventory-filter-panel .filter-options {
  flex-direction:row;
  flex-wrap:wrap;
  gap:10px;
}

.inventory-results-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:8px 4px;
  margin-bottom:16px;
  text-transform:uppercase;
  font-size:12px;
  letter-spacing:1px;
  font-weight:bold;
}

#inventory-results-summary {
  font-weight:bold;
}

@media (max-width: 900px) {
  .shop-layout { flex-direction:column; }
  #shop-controls { width:100%; }
}

.inventory-controls-bar { flex-wrap:wrap; }

@media (max-width: 700px) {
  .inventory-filter-panel .filter-options {
    flex-direction:column;
  }
}

.inventory-layout {
  display:grid;
  grid-template-columns:minmax(0, 1fr) minmax(280px, 1fr);
  gap:16px;
  align-items:start;
}

@media (max-width: 980px) {
  .inventory-layout {
    grid-template-columns:1fr;
  }
}

.inventory-column {
  display:flex;
  flex-direction:column;
  gap:16px;
  border:2px solid #000;
  background:#fff;
  padding:16px;
  box-shadow:6px 6px 0 #000;
  min-height:100%;
}

.inventory-column h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  border-bottom:2px solid #000;
  padding-bottom:6px;
}

.inventory-column .item-grid,
.inventory-column .material-grid {
  flex:1;
}

.equipment-panel {
  min-width:0;
}

.equipment-slots {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));
  gap:12px;
  margin-bottom:16px;
}

.slot-section-header {
  grid-column:1 / -1;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
  padding:4px 0;
}

.equipment-slots .slot-section-header:first-child {
  padding-top:0;
}

.equipment-slot {
  border:2px solid #000;
  padding:12px;
  min-height:130px;
  display:flex;
  flex-direction:column;
  gap:6px;
  background:#fff;
  box-shadow:3px 3px 0 #000;
}

.equipment-slot.empty {
  border-style:dashed;
  background:repeating-linear-gradient(45deg, #fff 0px, #fff 6px, #f7f7f7 6px, #f7f7f7 12px);
  color:#555;
}

.equipment-slot.filled {
  background:#000;
  color:#fff;
}

.equipment-slot.filled .meta {
  color:#f5f5f5;
}

.equipment-slot .slot-name {
  font-weight:bold;
  margin-bottom:4px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.equipment-slot .item-name {
  flex-grow:1;
}

.equipment-slot button {
  margin-top:auto;
  align-self:flex-start;
  box-shadow:3px 3px 0 #000;
}

.equipment-slot.filled button {
  background:#fff;
  color:#000;
}

.loadout-summary {
  display:flex;
  flex-direction:column;
  gap:12px;
  border-top:2px dashed #000;
  padding-top:12px;
}

.loadout-summary .stats-table {
  width:100%;
  border-collapse:collapse;
}

.loadout-summary .stats-table th,
.loadout-summary .stats-table td {
  border:1px solid #000;
  padding:4px 6px;
  text-transform:uppercase;
  font-size:12px;
  letter-spacing:1px;
}
.simple-list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:4px; }
.simple-list li { border:1px solid #000; padding:4px 6px; background:#fff; }
.challenge-panel { border:1px solid #000; padding:12px; display:flex; flex-direction:column; gap:12px; background:#fff; }
.challenge-round { font-weight:bold; text-transform:uppercase; text-align:center; font-size:18px; }
.challenge-reward, .challenge-next { border:1px solid #000; padding:6px; background:#fff; }
.challenge-actions { display:flex; justify-content:center; gap:8px; }
.challenge-message { align-self:center; }
.challenge-empty { border:1px dashed #000; padding:8px; text-align:center; }
.adventure-panel { border:1px solid #000; padding:12px; display:flex; flex-direction:column; gap:12px; background:#fff; }
.adventure-status-text { font-weight:bold; text-transform:uppercase; text-align:center; font-size:18px; }
.adventure-progress { display:flex; flex-direction:column; gap:4px; }
.adventure-progress-bar { height:16px; border:2px solid #000; background:#dcdcdc; border-radius:0; overflow:hidden; }
.adventure-progress-bar .fill {
  height:100%;
  width:0%;
  background:repeating-linear-gradient(90deg, #111 0px, #111 8px, #2b2b2b 8px, #2b2b2b 16px);
  transition:width 0.4s steps(12);
}
.adventure-progress-label { text-align:center; font-size:12px; color:#111; text-transform:uppercase; letter-spacing:1px; }
.adventure-timers { display:flex; justify-content:space-between; flex-wrap:wrap; gap:6px; font-size:14px; }
.adventure-actions { display:flex; justify-content:center; gap:8px; flex-wrap:wrap; align-items:center; }
.adventure-day-picker { display:flex; align-items:center; gap:6px; font-size:14px; }
.adventure-day-picker select { font-family:'Courier New', monospace; padding:4px; border:1px solid #000; background:#fff; }
.adventure-message { text-align:center; }
.adventure-log { border:2px solid #000; background:#070707; color:#fff; padding:8px; max-height:260px; overflow-y:auto; display:flex; flex-direction:column; gap:8px; }
.adventure-log h3 { margin:0; font-size:16px; text-transform:uppercase; letter-spacing:1px; color:#fff; }
.adventure-events { display:flex; flex-direction:column; gap:8px; }
.adventure-event { border:1px solid #fff; padding:8px; background:#000; color:#fff; font-size:14px; display:flex; flex-direction:column; gap:6px; box-shadow:0 0 0 2px #000 inset; }
.adventure-event .event-header { display:flex; justify-content:space-between; font-size:11px; color:#ccc; letter-spacing:1px; text-transform:uppercase; }
.adventure-event .event-message { font-weight:bold; }
.adventure-event .event-meta { font-size:12px; color:#e0e0e0; }
.adventure-event .event-cards { display:flex; flex-wrap:wrap; gap:6px; }
.adventure-event.has-cards .event-message { margin-bottom:2px; }
.adventure-event.empty { border:1px dashed #fff; text-align:center; font-style:italic; color:#8a8a8a; padding:12px; background:#000; }
.event-card { border:1px solid #fff; background:#111; color:#fff; padding:6px 8px; font-size:12px; display:flex; flex-direction:column; gap:2px; cursor:pointer; transition:background 0.2s ease; }
.event-card .card-title { font-size:11px; text-transform:uppercase; letter-spacing:0.5px; color:#c7c7c7; }
.event-card .card-body { font-size:12px; font-weight:bold; }
.event-card:hover { background:#1d1d1d; }
.event-card:focus { outline:1px dashed #fff; outline-offset:2px; }
.event-card .card-actions { display:flex; justify-content:flex-end; margin-top:4px; }
.event-card .card-action { font-family:'Courier New', monospace; font-size:10px; text-transform:uppercase; letter-spacing:1px; padding:2px 6px; border:1px solid #fff; background:#000; color:#fff; cursor:pointer; transition:background 0.2s ease, color 0.2s ease; border-radius:0; line-height:1.2; }
.event-card .card-action:hover,
.event-card .card-action:focus { background:#1d1d1d; color:#fff; outline:none; }
.event-card.item-card { border-style:dashed; }
.event-card.opponent-card[data-result='defeat'] { border-color:#f28b82; }
.event-card.opponent-card[data-result='victory'] { border-style:double; }
.event-card.has-replay { box-shadow:0 0 0 1px #fff inset; }
.adventure-history { border:1px solid #000; background:#f9f9f9; padding:8px; max-height:220px; overflow-y:auto; display:flex; flex-direction:column; gap:6px; }
.adventure-history h3 { margin:0 0 6px; font-size:16px; text-transform:uppercase; }
.adventure-history-entries { display:flex; flex-direction:column; gap:6px; }
.adventure-history-entry { border:1px solid #d0d0d0; padding:6px; background:#fff; font-size:13px; display:flex; flex-direction:column; gap:2px; }
.adventure-history-entry.outcome-complete { border-color:#9ccc65; background:#eef9e6; }
.adventure-history-entry.outcome-defeat { border-color:#f28b82; background:#ffe7e7; }
.adventure-history-empty { border:1px dashed #bbb; padding:8px; text-align:center; font-style:italic; font-size:13px; background:#fff; }
.history-header { font-weight:bold; text-transform:uppercase; font-size:13px; }
.history-details, .history-timeline, .history-rewards, .history-items { font-size:12px; }
.history-items { font-style:italic; }
.opponent-preview { border:1px solid #000; padding:8px; display:flex; flex-direction:column; gap:8px; background:#fff; }
.opponent-header { display:flex; justify-content:space-between; align-items:flex-end; border-bottom:1px solid #000; padding-bottom:4px; }
.opponent-name { font-weight:bold; text-transform:uppercase; }
.opponent-meta { font-size:12px; }
.equipment-section, .rotation-section { display:flex; flex-direction:column; gap:4px; }
.equipment-section .section-title, .rotation-section .section-title { font-weight:bold; text-transform:uppercase; border-bottom:1px solid #000; padding-bottom:2px; }
.equipment-list { display:grid; grid-template-columns:repeat(auto-fit, minmax(140px,1fr)); gap:4px; }
.equipment-entry { border:1px solid #000; padding:4px; display:flex; justify-content:space-between; background:#fff; }
.equipment-entry.empty { border-style:dashed; }
.equipment-entry .slot { font-weight:bold; margin-right:4px; }
.rotation-list { display:flex; flex-wrap:wrap; gap:4px; }
.rotation-chip { border:1px solid #000; padding:2px 6px; background:#fff; font-size:12px; }
.opponent-preview.compact { background:#000; color:#fff; border-color:#fff; box-shadow:0 0 0 2px #000 inset; font-size:12px; }
.opponent-preview.compact .opponent-header { border-color:#fff; }
.opponent-preview.compact .opponent-name { color:#fff; }
.opponent-preview.compact .opponent-meta { color:#ddd; }
.opponent-preview.compact .equipment-section .section-title,
.opponent-preview.compact .rotation-section .section-title { border-color:#fff; }
.opponent-preview.compact .equipment-entry { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .rotation-chip { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .stats-table th,
.opponent-preview.compact .stats-table td { border-color:#fff; color:#fff; }

/* Job / profession dialog */
.job-dialog-overlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.65);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
  z-index:1200;
}
.job-dialog {
  background:#111;
  color:#f6f6f6;
  border:4px solid #fff;
  box-shadow:8px 8px 0 #000;
  width:100%;
  max-width:960px;
  max-height:90vh;
  display:flex;
  flex-direction:column;
  font-family:'Courier New', monospace;
}
.job-dialog-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:18px;
  border-bottom:4px solid #fff;
  background:#000;
  color:#fff;
  text-transform:uppercase;
  letter-spacing:2px;
  box-shadow:0 4px 0 rgba(255,255,255,0.15);
}
.job-dialog-header h2 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:2px;
  font-size:18px;
}
.job-dialog-header button {
  font-weight:bold;
  text-transform:uppercase;
  padding:6px 16px;
  border:3px solid #fff;
  background:#111;
  color:#fff;
  box-shadow:4px 4px 0 #fff, 4px 4px 0 3px #000;
}
.job-dialog-header button:hover,
.job-dialog-header button:focus {
  background:#1f1f1f;
  color:#fff;
}
.job-dialog-content {
  padding:20px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:20px;
  background:rgba(0,0,0,0.4);
  border-top:4px solid rgba(255,255,255,0.1);
}
.job-dialog-loading {
  text-align:center;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
  padding:32px 0;
}
.job-dialog-intro {
  margin:0;
  font-size:13px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  color:#fff;
}
.job-dialog-note {
  margin:4px 0 0 0;
  font-size:12px;
  color:#d7d7d7;
  text-transform:uppercase;
  letter-spacing:1px;
}
.job-card-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  gap:16px;
}
.job-card {
  border:3px solid #000;
  background:#fff;
  color:#000;
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:6px 6px 0 rgba(0,0,0,0.85);
}
.job-card h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:18px;
}
.job-card h4 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:14px;
}
.job-card button {
  align-self:flex-start;
  font-weight:bold;
  text-transform:uppercase;
  padding:6px 14px;
  border:3px solid #000;
  background:#fff;
  color:#000;
  box-shadow:4px 4px 0 #000;
}
.job-card button:hover,
.job-card button:focus {
  background:#000;
  color:#fff;
}
.job-attribute {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  color:#1a1a1a;
}
.job-description {
  margin:0;
  font-size:13px;
  line-height:1.4;
  color:#1a1a1a;
}
.job-meta-list {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.job-meta-list li {
  display:flex;
  justify-content:space-between;
  align-items:center;
  border:2px solid #000;
  background:#fff;
  padding:6px 10px;
  box-shadow:3px 3px 0 #000;
}
.job-meta-list .label {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  color:#000;
}
.job-meta-list .value {
  font-family:'Courier New', monospace;
  font-size:13px;
  color:#000;
}
.job-empty-text {
  border:2px dashed rgba(255,255,255,0.5);
  background:rgba(255,255,255,0.08);
  padding:14px;
  text-align:center;
  font-size:13px;
  font-style:italic;
  color:inherit;
}
.job-output-section .job-empty-text,
.job-log-section .job-empty-text,
.job-recipe-section .job-empty-text {
  border-color:rgba(0,0,0,0.4);
  background:rgba(0,0,0,0.05);
  color:#000;
}
.job-recipe-list {
  display:flex;
  flex-direction:column;
  gap:8px;
}
.job-recipe {
  border:2px solid #000;
  background:#fff;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  box-shadow:3px 3px 0 #000;
}
.job-recipe-header {
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:8px;
}
.job-recipe-name {
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:14px;
}
.job-recipe-rarity {
  font-size:11px;
  text-transform:uppercase;
  color:#666;
}
.job-material-list {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.job-material {
  border:2px solid #000;
  background:#fff;
  display:flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  box-shadow:3px 3px 0 #000;
}
.job-material.empty {
  border-style:dashed;
  background:rgba(0,0,0,0.04);
  color:#444;
  justify-content:center;
  font-style:italic;
}
.job-material .name {
  flex:1;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}
.job-material .count {
  font-family:'Courier New', monospace;
  font-size:12px;
}
.job-material .owned-count {
  font-size:11px;
  color:#444;
}
.job-material .owned-count.insufficient {
  color:#c0392b;
  font-weight:bold;
}
.job-active-summary {
  border:3px solid #000;
  background:#fff;
  color:#000;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:10px;
  box-shadow:6px 6px 0 rgba(0,0,0,0.85);
}
.job-active-summary h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:18px;
}
.job-active-subtitle {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#111;
}
.job-shift-panel {
  display:flex;
  flex-direction:column;
  gap:10px;
  border:2px solid #000;
  background:#fdfdfd;
  padding:14px;
  box-shadow:4px 4px 0 #000;
}
.job-shift-status {
  align-self:flex-start;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:2px;
  font-weight:bold;
  border:2px solid #000;
  padding:4px 12px;
  background:#fff;
  color:#000;
  box-shadow:2px 2px 0 #000;
}
.job-shift-status.working {
  background:#000;
  color:#fff;
}
.job-shift-message {
  margin:0;
  font-size:12px;
  line-height:1.5;
  color:#111;
  text-transform:none;
}
.job-shift-action {
  align-self:flex-start;
  font-weight:bold;
  text-transform:uppercase;
  padding:6px 16px;
  border:3px solid #000;
  background:#fff;
  color:#000;
  box-shadow:4px 4px 0 #000;
}
.job-shift-action:hover,
.job-shift-action:focus {
  background:#000;
  color:#fff;
}
.job-restriction-note {
  margin:0;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#222;
}
.job-stats-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(190px,1fr));
  gap:12px;
}
.job-stat {
  border:2px solid #000;
  background:#fff;
  color:#000;
  padding:10px;
  display:flex;
  flex-direction:column;
  gap:4px;
  box-shadow:3px 3px 0 #000;
}
.job-stat .label {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#111;
}
.job-stat .value {
  font-family:'Courier New', monospace;
  font-size:14px;
  font-weight:bold;
  color:#000;
}
.job-output-section,
.job-log-section,
.job-recipe-section {
  border:3px solid #000;
  background:#fff;
  color:#000;
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:6px 6px 0 rgba(0,0,0,0.85);
}
.job-output-section h4,
.job-log-section h4,
.job-recipe-section h4 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:16px;
  color:#000;
}
.job-output-list {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.job-output-item {
  border:2px solid #000;
  background:#f7f7f7;
  padding:8px 10px;
  display:flex;
  align-items:center;
  gap:8px;
  font-size:13px;
}
.job-output-item .name {
  flex:1;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
}
.job-output-item .count {
  font-family:'Courier New', monospace;
}
.job-output-item .rarity {
  font-size:11px;
  text-transform:uppercase;
  color:#555;
}
.job-log-scroll {
  max-height:420px;
  overflow-y:auto;
  padding-right:6px;
}
.job-log-list {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.job-log-list li {
  list-style:none;
}
.job-log-entry {
  border:2px solid #fff;
  padding:12px 14px;
  background:#000;
  color:#fff;
  display:flex;
  flex-direction:column;
  gap:10px;
  box-shadow:4px 4px 0 rgba(255,255,255,0.2);
}
.job-log-entry.log-crafted {
  border-color:#46d369;
  box-shadow:4px 4px 0 rgba(70,211,105,0.25);
}
.job-log-entry.log-failed {
  border-color:#ff5f5f;
  box-shadow:4px 4px 0 rgba(255,95,95,0.25);
}
.job-log-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.job-log-title-group {
  display:flex;
  flex-direction:column;
  gap:4px;
}
.job-log-title {
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:14px;
}
.job-log-rarity {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#d6d6d6;
}
.job-log-badge {
  padding:4px 10px;
  border:2px solid #000;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  background:#000;
  color:#fff;
}
.job-log-badge.success {
  background:#1b5e20;
}
.job-log-badge.failure {
  background:#8b1e24;
}
.job-log-badge.warning {
  background:#c56a11;
}
.job-log-details {
  display:flex;
  flex-direction:column;
  gap:6px;
}
.job-log-detail {
  display:flex;
  gap:10px;
  align-items:flex-start;
}
.job-log-detail .label {
  min-width:140px;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
  color:#cfcfcf;
}
.job-log-detail .value {
  flex:1;
  font-size:12px;
  line-height:1.4;
  color:#fff;
}
.job-log-summary {
  margin:8px 0 0;
  font-size:12px;
  line-height:1.5;
  font-weight:bold;
  color:#f2f2f2;
}
.job-log-footer {
  font-size:11px;
  color:#bbbbbb;
  text-transform:uppercase;
  letter-spacing:1px;
  align-self:flex-end;
}
.job-recipe-section .job-recipe-list {
  margin-top:0;
}
.job-attention {
  background:#000;
  color:#fff;
  animation:job-attention-pulse 1.2s ease-in-out infinite;
}
.job-attention:hover,
.job-attention:focus {
  background:#1d1d1d;
  color:#fff;
}
@keyframes job-attention-pulse {
  0%, 100% { box-shadow:0 0 0 0 rgba(0,0,0,0.4); transform:translateY(0); }
  50% { box-shadow:0 0 0 6px rgba(0,0,0,0.2); transform:translateY(-1px); }
}
