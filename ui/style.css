* { box-sizing: border-box; }

body {
  margin: 0;
  background: repeating-linear-gradient(0deg, #fff 0px, #fff 12px, #f5f5f5 12px, #f5f5f5 24px);
  color: #000;
  font-family: 'Courier New', monospace;
  letter-spacing: 0.5px;
}

button {
  background: #fff;
  color: #000;
  border: 2px solid #000;
  padding: 10px 14px;
  cursor: pointer;
  font-family: 'Courier New', monospace;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  box-shadow: 0 0 0 2px #000 inset;
  transition: background 0.2s ease, color 0.2s ease;
}

button:hover,
button:focus {
  background: #000;
  color: #fff;
  outline: none;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: #fff;
  color: #000;
}

input,
select {
  background: #fff;
  border: 2px solid #000;
  padding: 8px;
  font-family: 'Courier New', monospace;
  text-transform: uppercase;
  letter-spacing: 1px;
}

select {
  cursor: pointer;
}

.hidden { display:none !important; }

.message {
  border: 2px solid #000;
  padding: 6px 8px;
  background: #fff;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 12px;
  line-height: 1.2;
}

.message.error {
  background: #000;
  color: #fff;
}

#game {
  max-width: 1100px;
  margin: 32px auto 48px;
  padding: 24px;
  background: #fff;
  border: 4px double #000;
  box-shadow: 0 0 0 8px #000 inset;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.tab-bar {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  padding: 16px;
  background: #000;
  border: 4px double #000;
  box-shadow: 0 0 0 6px #000 inset;
}

#tabs button {
  border: 2px solid #fff;
  background: #fff;
  color: #000;
  padding: 12px;
  box-shadow: 0 0 0 3px #000 inset;
}

#tabs button.active {
  background: #000;
  color: #fff;
  border-color: #fff;
}

#content {
  border: 4px double #000;
  padding: 24px;
  background: #fdfdfd;
  box-shadow: 0 0 0 6px #000 inset;
}

.tab-pane { display:none; }
.tab-pane.active { display:block; }
.tab-pane.active.tab-page { display:flex; }
.tab-page { display:flex; flex-direction:column; gap:24px; }

.gate-panel {
  max-width: 420px;
  margin: 48px auto;
  border: 4px double #000;
  background: #fff;
  box-shadow: 0 0 0 8px #000 inset;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.gate-title {
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  letter-spacing: 2px;
}

.gate-body {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.gate-body input {
  width: 100%;
}

.gate-body label {
  font-weight: bold;
  font-size: 12px;
}

.gate-actions {
  display: flex;
  gap: 8px;
  justify-content: space-between;
}

.character-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.character-list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 2px solid #000;
  padding: 10px 12px;
  background: #fff;
  box-shadow: 0 0 0 4px #000 inset;
}

.character-list li .info {
  white-space: pre;
  margin-right: 8px;
  font-size: 12px;
  letter-spacing: 1px;
}

.page-hero {
  display: flex;
  gap: 16px;
  align-items: stretch;
  border: 2px solid #000;
  background: #fff;
  padding: 16px;
  box-shadow: 0 0 0 4px #000 inset;
}

.page-hero .hero-emblem {
  display: flex;
  align-items: center;
  justify-content: center;
}

.emblem-small {
  width: 110px;
  min-height: 110px;
  font-size: 36px;
}

.hero-meta-item.full {
  grid-column: 1 / -1;
}

.hero-meta-item.full .message,
.hero-meta-item.full .value {
  display: block;
  width: 100%;
}

.page-section {
  border: 2px solid #000;
  background: #fff;
  padding: 16px;
  box-shadow: 0 0 0 4px #000 inset;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.section-title {
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  font-weight: bold;
}

.mode-selector {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
}

.mode-selector button {
  width: 100%;
  min-height: 52px;
}

.battle-area {
  border: 2px solid #000;
  background: #fff;
  padding: 16px;
  min-height: 220px;
  box-shadow: 0 0 0 4px #000 inset;
}

.inventory-section .inventory-layout {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
}

.inventory-column {
  display: flex;
  flex-direction: column;
  gap: 12px;
  border: 2px solid #000;
  background: #fff;
  padding: 12px;
  box-shadow: 0 0 0 3px #000 inset;
}

.inventory-column h3 {
  margin: 0;
  text-transform: uppercase;
  font-size: 14px;
  letter-spacing: 1px;
  border-bottom: 2px solid #000;
  padding-bottom: 6px;
}

.rotation-shell {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.rotation-shell .rotation-settings {
  display: flex;
  align-items: center;
  gap: 12px;
  align-self: stretch;
  border: 2px solid #000;
  background: #fff;
  padding: 12px;
  box-shadow: 0 0 0 3px #000 inset;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.rotation-shell .rotation-settings select {
  min-width: 140px;
}

.rotation-shell .rotation-grid {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
  align-items: flex-start;
}

.rotation-shell .pool,
.rotation-shell .rotation-drop {
  flex: 1;
  min-width: 280px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  border: 2px solid #000;
  background: #fff;
  padding: 12px;
  box-shadow: 0 0 0 3px #000 inset;
}

.rotation-shell h3 {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 14px;
}

.rotation-shell .ability-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 10px;
}

.rotation-shell .ability-card {
  border: 2px solid #000;
  padding: 8px;
  text-align: center;
  cursor: move;
  background: #fff;
  box-shadow: 0 0 0 3px #000 inset;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.rotation-shell ul {
  list-style: none;
  margin: 0;
  padding: 8px;
  border: 2px solid #000;
  min-height: 240px;
  max-height: 320px;
  overflow-y: auto;
  background: #fff;
  box-shadow: 0 0 0 3px #000 inset;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.rotation-shell li {
  border: 2px solid #000;
  padding: 6px;
  cursor: move;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: #fff;
  box-shadow: 0 0 0 3px #000 inset;
}

.rotation-shell .delete-zone {
  border: 2px dashed #000;
  padding: 10px;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 1px;
  background: #fff;
  box-shadow: 0 0 0 3px #000 inset;
  color: #a00;
}

.rotation-shell .rotation-footer {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.rotation-shell .rotation-footer .message {
  margin: 0;
}

.rotation-shell #rotation-error {
  min-width: 200px;
}

#name-dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
}

#name-dialog .dialog-box {
  border: 3px solid #000;
  padding: 16px;
  background: #fff;
  box-shadow: 0 0 0 6px #000 inset;
}

#name-dialog input {
  width: 220px;
  margin-top: 8px;
}

#name-dialog .dialog-buttons {
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

.tooltip { position:absolute; background:#fff; border:1px solid #000; padding:4px; pointer-events:none; z-index:1000; }
.tooltip.hidden { display:none; }
.tooltip[data-theme='dark'] { background:#000; border-color:#fff; color:#fff; }
.tooltip[data-theme='dark'] .tooltip-grid .label { color:#bfbfbf; }
.tooltip-grid { display:grid; grid-template-columns:auto auto; gap:2px 8px; }
.tooltip-grid .label { font-weight:bold; text-align:right; }

#battle-dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  z-index: 1000;
}

#battle-dialog .dialog-box {
  border: 3px solid #000;
  padding: 20px;
  width: 100%;
  max-width: 820px;
  background: #fff;
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-shadow: 0 0 0 6px #000 inset;
}

#battle-dialog .combatants-row {
  display: flex;
  gap: 16px;
}

#battle-dialog .combatant {
  flex: 1;
  border: 2px solid #000;
  padding: 12px;
  background: #fff;
  box-shadow: 0 0 0 4px #000 inset;
}

#battle-dialog .combatant .name {
  font-weight: bold;
  text-align: center;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

#battle-dialog .bars {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.bar {
  position:relative;
  border:1px solid #000;
  height:12px;
  background:#fff;
  overflow:hidden;
}
.bar .fill {
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  background:#000;
  width:100%;
}
.bar .label {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:10px;
  font-weight:bold;
  color:#fff;
  pointer-events:none;
}
.bar .label .value {
  pointer-events:none;
  white-space:nowrap;
}
#battle-log {
  border: 2px solid #000;
  height: 220px;
  overflow-y: auto;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 16px;
  background: #fff;
  box-shadow: 0 0 0 3px #000 inset;
}
#battle-log .log-message {
  max-width: 75%;
  padding: 6px 8px;
  border: 2px solid #000;
  background: #fff;
}
#battle-log .log-message.you {
  align-self: flex-start;
  background: #000;
  color: #fff;
  border-color: #000;
}
#battle-log .log-message.opponent {
  align-self: flex-end;
  background: #fff;
  color: #000;
  border-color: #000;
  text-align: right;
}
#battle-log .log-message.neutral {
  align-self: center;
  background: #fff;
  color: #000;
  border-style: dashed;
  text-align: center;
}
#battle-dialog .dialog-buttons { text-align:right; margin-top:16px; }

.stats-table { border-collapse:collapse; margin-bottom:8px; width:100%; }
.stats-table th, .stats-table td { border:1px solid #000; padding:4px; }
.stats-table .section td { font-weight:bold; text-align:center; }

.character-page { display:flex; flex-direction:column; gap:16px; width:100%; }
.character-hero {
  display:flex;
  gap:16px;
  align-items:stretch;
  border:2px solid #000;
  background:#fff;
  padding:16px;
  box-shadow:0 0 0 4px #000 inset;
}
.hero-emblem {
  width:120px;
  min-height:120px;
  border:2px solid #000;
  background:repeating-linear-gradient(45deg, #000 0px, #000 6px, #fff 6px, #fff 12px);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:48px;
  font-weight:bold;
  text-transform:uppercase;
  letter-spacing:4px;
}
.hero-body { flex:1; display:flex; flex-direction:column; gap:12px; }
.hero-header { display:flex; align-items:baseline; gap:12px; }
.hero-name { font-size:28px; text-transform:uppercase; letter-spacing:2px; }
.hero-type {
  border:1px solid #000;
  background:#000;
  color:#fff;
  padding:4px 8px;
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
}
.hero-meta-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:8px;
}
.hero-meta-item {
  border:1px solid #000;
  background:#fff;
  padding:6px;
  display:flex;
  flex-direction:column;
  gap:2px;
}
.hero-meta-item .label {
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.hero-meta-item .value { font-size:16px; font-weight:bold; }
.hero-xp { display:flex; flex-direction:column; gap:6px; }
.xp-label { font-weight:bold; letter-spacing:1px; }
.xp-bar { border:1px solid #000; height:16px; background:#f8f8f8; position:relative; overflow:hidden; }
.xp-bar::before {
  content:'';
  position:absolute;
  inset:0;
  background:repeating-linear-gradient(90deg, #f8f8f8 0px, #f8f8f8 6px, #e4e4e4 6px, #e4e4e4 12px);
  opacity:0.7;
}
.xp-bar-fill {
  position:relative;
  height:100%;
  background:#000;
  box-shadow:0 0 0 1px #000 inset;
}
.hero-xp.ready .xp-bar-fill { animation:pulse-bar 1s steps(2) infinite; }
.xp-hint { font-size:12px; color:#444; text-transform:uppercase; letter-spacing:1px; }
.xp-ready-text { font-size:12px; font-weight:bold; text-transform:uppercase; letter-spacing:1px; }
.hero-actions {
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-width:160px;
  gap:12px;
}
.hero-status {
  border:1px solid #000;
  padding:8px;
  background:#fff;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:12px;
  text-align:center;
}
.hero-status.ready { background:#000; color:#fff; }
.hero-note {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#444;
}
.character-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  gap:16px;
}
.character-card {
  border:2px solid #000;
  background:#fff;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  box-shadow:0 0 0 3px #000 inset;
}
.character-card h3 {
  margin:0;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:16px;
}
.highlight-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(120px,1fr));
  gap:12px;
}
.highlight-item {
  border:1px solid #000;
  background:repeating-linear-gradient(0deg, #fff 0px, #fff 8px, #f0f0f0 8px, #f0f0f0 16px);
  padding:8px;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.highlight-item .label {
  font-size:10px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#555;
}
.highlight-item .value { font-size:18px; font-weight:bold; }
.character-card .loadout-summary { display:flex; flex-direction:column; gap:16px; }
.summary-tables {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
}
.summary-extras {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
  gap:12px;
  align-items:start;
}
.chance-card, .onhit-card {
  border:1px solid #000;
  background:#fff;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.card-heading {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  font-weight:bold;
}
.onhit-card .simple-list { flex:1; }

@keyframes pulse-bar {
  0%, 100% { opacity:1; }
  50% { opacity:0.4; }
}

#levelup-dialog {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.95);
  display: flex;
  align-items: center;
  justify-content: center;
}

#levelup-dialog .dialog-box {
  border: 3px solid #000;
  padding: 16px;
  width: 320px;
  background: #fff;
  box-shadow: 0 0 0 6px #000 inset;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#levelup-dialog .dialog-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 8px;
}

#shop-gold {
  font-weight: bold;
  letter-spacing: 1px;
}

.item-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 16px;
}

.item-card {
  border: 2px solid #000;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: #fff;
  min-height: 170px;
  box-shadow: 0 0 0 3px #000 inset;
}

.item-card .name {
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.item-card .meta {
  font-size: 12px;
  letter-spacing: 0.5px;
}

.item-card .cost {
  font-weight: bold;
}

.item-card .owned {
  font-size: 12px;
}

.item-card button {
  margin-top: auto;
}

.equipment-panel {
  max-width: 360px;
}

.equipment-slots {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
  margin-bottom: 16px;
}

.equipment-slot {
  border: 2px solid #000;
  padding: 12px;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  background: #fff;
  box-shadow: 0 0 0 3px #000 inset;
}

.equipment-slot.empty {
  border-style: dashed;
}

.equipment-slot .slot-name {
  font-weight: bold;
  margin-bottom: 6px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.equipment-slot .item-name {
  flex-grow: 1;
}

.equipment-slot button {
  margin-top: 8px;
}

.loadout-summary {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.loadout-summary .stats-table {
  width: 100%;
}

.simple-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.simple-list li {
  border: 2px solid #000;
  padding: 6px 8px;
  background: #fff;
  box-shadow: 0 0 0 2px #000 inset;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.challenge-panel {
  border: 2px solid #000;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: #fff;
  box-shadow: 0 0 0 4px #000 inset;
}

.challenge-round {
  font-weight: bold;
  text-transform: uppercase;
  text-align: center;
  font-size: 18px;
  letter-spacing: 1px;
}

.challenge-reward,
.challenge-next {
  border: 2px solid #000;
  padding: 8px;
  background: #fff;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.challenge-actions {
  display: flex;
  justify-content: center;
  gap: 12px;
}

.challenge-message {
  align-self: center;
}

.challenge-empty {
  border: 2px dashed #000;
  padding: 12px;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 1px;
  background: #fff;
}

.adventure-panel {
  border: 2px solid #000;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: #fff;
  box-shadow: 0 0 0 4px #000 inset;
}

.adventure-status-text {
  font-weight: bold;
  text-transform: uppercase;
  text-align: center;
  font-size: 18px;
  letter-spacing: 1px;
}

.adventure-progress {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.adventure-progress-bar {
  height: 16px;
  border: 2px solid #000;
  background: #dcdcdc;
  border-radius: 0;
  overflow: hidden;
}

.adventure-progress-bar .fill {
  height: 100%;
  width: 0%;
  background: repeating-linear-gradient(90deg, #111 0px, #111 8px, #2b2b2b 8px, #2b2b2b 16px);
  transition: width 0.4s steps(12);
}

.adventure-progress-label {
  text-align: center;
  font-size: 12px;
  color: #111;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.adventure-timers {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 14px;
}

.adventure-actions {
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

.adventure-day-picker {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
}

.adventure-day-picker select {
  font-family: 'Courier New', monospace;
  padding: 6px;
  border: 2px solid #000;
  background: #fff;
}

.adventure-message { text-align:center; }
.adventure-log { border:2px solid #000; background:#070707; color:#fff; padding:8px; max-height:260px; overflow-y:auto; display:flex; flex-direction:column; gap:8px; }
.adventure-log h3 { margin:0; font-size:16px; text-transform:uppercase; letter-spacing:1px; color:#fff; }
.adventure-event {
  border: 2px solid #fff;
  padding: 10px;
  background: #000;
  color: #fff;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  box-shadow: 0 0 0 3px #000 inset;
}

.adventure-event .event-header {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: #ccc;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.adventure-event .event-message {
  font-weight: bold;
}

.adventure-event .event-meta {
  font-size: 12px;
  color: #e0e0e0;
}

.adventure-event .event-cards {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.adventure-event.has-cards .event-message {
  margin-bottom: 2px;
}

.adventure-event.empty {
  border: 2px dashed #fff;
  text-align: center;
  font-style: italic;
  color: #8a8a8a;
  padding: 12px;
  background: #000;
}

.event-card { border:1px solid #fff; background:#111; color:#fff; padding:6px 8px; font-size:12px; display:flex; flex-direction:column; gap:2px; cursor:pointer; transition:background 0.2s ease; }
.event-card .card-title { font-size:11px; text-transform:uppercase; letter-spacing:0.5px; color:#c7c7c7; }
.event-card .card-body { font-size:12px; font-weight:bold; }
.event-card:hover { background:#1d1d1d; }
.event-card:focus { outline:1px dashed #fff; outline-offset:2px; }
.event-card .card-actions { display:flex; justify-content:flex-end; margin-top:4px; }
.event-card .card-action { font-family:'Courier New', monospace; font-size:10px; text-transform:uppercase; letter-spacing:1px; padding:2px 6px; border:1px solid #fff; background:#000; color:#fff; cursor:pointer; transition:background 0.2s ease, color 0.2s ease; border-radius:0; line-height:1.2; }
.event-card .card-action:hover,
.event-card .card-action:focus { background:#1d1d1d; color:#fff; outline:none; }
.event-card.item-card { border-style:dashed; }
.event-card.opponent-card[data-result='defeat'] { border-color:#f28b82; }
.event-card.opponent-card[data-result='victory'] { border-style:double; }
.event-card.has-replay { box-shadow:0 0 0 1px #fff inset; }
.adventure-history {
  border: 2px solid #000;
  background: #f9f9f9;
  padding: 12px;
  max-height: 220px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
  box-shadow: 0 0 0 3px #000 inset;
}

.adventure-history h3 {
  margin: 0 0 6px;
  font-size: 16px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.adventure-history-entries {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.adventure-history-entry {
  border: 2px solid #d0d0d0;
  padding: 6px;
  background: #fff;
  font-size: 13px;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.adventure-history-entry.outcome-complete {
  border-color: #9ccc65;
  background: #eef9e6;
}

.adventure-history-entry.outcome-defeat {
  border-color: #f28b82;
  background: #ffe7e7;
}

.adventure-history-empty {
  border: 2px dashed #bbb;
  padding: 8px;
  text-align: center;
  font-style: italic;
  font-size: 13px;
  background: #fff;
}

.history-header { font-weight:bold; text-transform:uppercase; font-size:13px; }
.history-details, .history-timeline, .history-rewards, .history-items { font-size:12px; }
.history-items { font-style:italic; }
.opponent-preview {
  border: 2px solid #000;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: #fff;
  box-shadow: 0 0 0 4px #000 inset;
}

.opponent-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  border-bottom: 2px solid #000;
  padding-bottom: 6px;
}

.opponent-name {
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.opponent-meta {
  font-size: 12px;
}

.equipment-section { display:flex; flex-direction:column; gap:4px; }
.equipment-section .section-title { font-weight:bold; text-transform:uppercase; border-bottom:2px solid #000; padding-bottom:4px; }
.equipment-list { display:grid; grid-template-columns:repeat(auto-fit, minmax(140px,1fr)); gap:4px; }
.equipment-entry { border:1px solid #000; padding:4px; display:flex; justify-content:space-between; background:#fff; }
.equipment-entry.empty { border-style:dashed; }
.equipment-entry .slot { font-weight:bold; margin-right:4px; }
.rotation-list { display:flex; flex-wrap:wrap; gap:4px; }
.rotation-chip { border:1px solid #000; padding:2px 6px; background:#fff; font-size:12px; }
.opponent-preview.compact { background:#000; color:#fff; border-color:#fff; box-shadow:0 0 0 2px #000 inset; font-size:12px; }
.opponent-preview.compact .opponent-header { border-color:#fff; }
.opponent-preview.compact .opponent-name { color:#fff; }
.opponent-preview.compact .opponent-meta { color:#ddd; }
.opponent-preview.compact .equipment-section .section-title,
.opponent-preview.compact .rotation-section .section-title { border-color:#fff; }
.opponent-preview.compact .equipment-entry { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .rotation-chip { background:#000; color:#fff; border-color:#fff; }
.opponent-preview.compact .stats-table th,
.opponent-preview.compact .stats-table td { border-color:#fff; color:#fff; }
