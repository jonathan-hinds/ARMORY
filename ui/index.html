<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ARMORY</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="auth">
    <input id="player-name" placeholder="Name" />
    <button id="login-btn">Login</button>
    <button id="register-btn">Register</button>
    <div id="auth-error" class="hidden"></div>
  </div>
  <div id="character-select" class="hidden">
    <div class="character-select-header">
      <h2>Select Your Champion</h2>
      <p>Scroll through your roster and choose who answers the call.</p>
    </div>
    <div id="character-list" class="character-card-list"></div>
    <div class="character-select-actions">
      <button id="create-character">Create Character</button>
    </div>
  </div>
  <div id="name-dialog" class="hidden">
    <div class="dialog-box">
      <div>Character name?</div>
      <input id="new-char-name" />
      <div class="dialog-buttons">
        <button id="name-ok">OK</button>
        <button id="name-cancel">Cancel</button>
      </div>
    </div>
  </div>
  <div id="game" class="hidden">
    <nav id="tabs">
      <button data-tab="world">World</button>
      <button data-tab="shop">Shop</button>
      <button data-tab="character">Character</button>
      <button data-tab="inventory">Inventory</button>
      <button data-tab="battle">Battle</button>
      <button data-tab="rotation">Rotation</button>
    </nav>
    <section id="content">
      <div id="world" class="tab-pane">
        <div class="world-container">
          <div class="world-main">
            <div class="world-header">
              <div id="world-title">Exploration</div>
              <div id="world-status" class="world-status">Connecting...</div>
            </div>
            <canvas id="world-canvas" width="640" height="480" aria-label="World view"></canvas>
            <div id="world-message" class="world-message message hidden"></div>
          </div>
          <aside class="world-sidebar">
            <div class="world-sidebar-section world-lobby">
              <h3>World Party</h3>
              <label for="world-select" class="input-label">World</label>
              <select id="world-select" class="world-select" aria-label="Select world"></select>
              <label for="world-party-size" class="input-label">Party Size</label>
              <select id="world-party-size" class="world-select" aria-label="Select party size">
                <option value="1">Solo (1)</option>
                <option value="2">Duo (2)</option>
                <option value="3">Trio (3)</option>
                <option value="4">Squad (4)</option>
                <option value="5">Full party (5)</option>
              </select>
              <div class="world-lobby-buttons">
                <button id="world-queue-btn" type="button">Find Party</button>
                <button id="world-leave-btn" type="button" class="hidden">Leave Queue</button>
                <button id="world-ready-btn" type="button" class="hidden">Ready Up</button>
              </div>
              <div id="world-lobby-status" class="message hidden"></div>
              <div id="world-ready-panel" class="world-ready-panel hidden">
                <h4>Party Members</h4>
                <ul id="world-ready-party"></ul>
                <div id="world-ready-status" class="world-ready-status"></div>
              </div>
            </div>
            <div class="world-sidebar-section">
              <h3>Adventurers Nearby</h3>
              <ul id="world-player-list" class="world-player-list"></ul>
            </div>
            <div class="world-sidebar-section world-controls">
              <h3>Controls</h3>
              <p>Use <strong>WASD</strong> or arrow keys to move. Encounters may occur in tall grass.</p>
            </div>
          </aside>
        </div>
      </div>
      <div id="shop" class="tab-pane">
        <div id="shop-header">
          <div id="shop-gold">Gold: 0</div>
          <div id="shop-message" class="message hidden"></div>
        </div>
        <div class="shop-layout">
          <aside id="shop-controls">
            <div class="filter-section">
              <h3>Categories</h3>
              <div id="shop-category-filter" class="filter-options"></div>
            </div>
            <div class="filter-section">
              <h3>Slots</h3>
              <div id="shop-slot-filter" class="filter-options"></div>
            </div>
            <div class="filter-section">
              <h3>Weapon Types</h3>
              <div id="shop-weapon-filter" class="filter-options"></div>
            </div>
            <div class="filter-section">
              <h3>Scaling</h3>
              <div id="shop-scaling-filter" class="filter-options"></div>
            </div>
            <div class="filter-section">
              <h3>Effects</h3>
              <div id="shop-effect-filter" class="filter-options"></div>
            </div>
            <div class="filter-section">
              <h3>Sort Order</h3>
              <select id="shop-sort">
                <option value="cost-asc">Cost • Low to High</option>
                <option value="cost-desc">Cost • High to Low</option>
                <option value="damage-desc">Damage • High to Low</option>
                <option value="damage-asc">Damage • Low to High</option>
                <option value="stat-desc">Stat Bonus • High to Low</option>
                <option value="stat-asc">Stat Bonus • Low to High</option>
              </select>
            </div>
            <button id="shop-reset" class="filter-reset">Reset Filters</button>
          </aside>
          <div class="shop-results">
            <div id="shop-results-header" class="shop-results-header">
              <div id="shop-results-summary"></div>
            </div>
            <div id="shop-grid" class="shop-category-list"></div>
          </div>
        </div>
      </div>
      <div id="character" class="tab-pane active"></div>
      <div id="inventory" class="tab-pane">
        <div id="inventory-message" class="message hidden"></div>
        <div class="inventory-controls">
          <div class="inventory-controls-bar">
            <button
              id="inventory-filter-toggle"
              class="inventory-filter-toggle"
              type="button"
              aria-expanded="false"
              aria-controls="inventory-filter-panel"
            >
              Show Filters ▾
            </button>
            <div class="inventory-controls-actions">
              <button id="inventory-filter-reset" class="filter-reset" type="button">Reset Filters</button>
            </div>
          </div>
          <div id="inventory-filter-panel" class="inventory-filter-panel">
            <div class="inventory-filter-groups">
              <div class="filter-section" data-inventory-section="categories">
                <h3>Categories</h3>
                <div id="inventory-category-filter" class="filter-options"></div>
              </div>
              <div class="filter-section" data-inventory-section="slots">
                <h3>Slots</h3>
                <div id="inventory-slot-filter" class="filter-options"></div>
              </div>
              <div class="filter-section" data-inventory-section="weaponTypes">
                <h3>Weapon Types</h3>
                <div id="inventory-weapon-filter" class="filter-options"></div>
              </div>
              <div class="filter-section" data-inventory-section="scaling">
                <h3>Scaling</h3>
                <div id="inventory-scaling-filter" class="filter-options"></div>
              </div>
              <div class="filter-section" data-inventory-section="effects">
                <h3>Effects</h3>
                <div id="inventory-effect-filter" class="filter-options"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="inventory-results-header">
          <div id="inventory-results-summary"></div>
          <div class="inventory-header-actions">
            <div id="inventory-gold-display" class="inventory-gold-display">Gold: 0</div>
            <button id="inventory-stash-button" type="button">Open Stash</button>
          </div>
        </div>
        <div class="inventory-layout">
          <div class="inventory-column">
            <h3>Owned Items</h3>
            <div id="inventory-grid" class="item-grid"></div>
            <h3>Materials</h3>
            <div id="material-grid" class="material-grid"></div>
          </div>
          <div class="inventory-column equipment-panel">
            <h3>Equipped</h3>
            <div id="equipment-slots" class="equipment-slots"></div>
            <h3>Loadout Summary</h3>
            <div id="loadout-summary" class="loadout-summary"></div>
          </div>
        </div>
      </div>
      <div id="battle" class="tab-pane">
        <div id="battle-modes">
          <button data-mode="matchmaking">Matchmaking</button>
          <button data-mode="challenge">Challenge</button>
          <button data-mode="dungeon">Dungeon</button>
          <button data-mode="adventure">Adventure</button>
          <button data-mode="battlefield">Battlefield</button>
        </div>
        <div id="battle-area"></div>
      </div>
      <div id="rotation" class="tab-pane">
        <div id="rotation-container">
          <div class="rotation-header">
            <div class="rotation-title">Rotation Planner</div>
            <div class="rotation-settings">
              <label for="rotation-damage-type">Damage Type</label>
              <select id="rotation-damage-type">
                <option value="melee">Melee</option>
                <option value="magic">Magic</option>
              </select>
            </div>
          </div>
          <div class="rotation-tabs" role="tablist" aria-label="Rotation views">
            <button
              type="button"
              class="rotation-tab-button active"
              data-view="planner"
              role="tab"
              aria-selected="true"
            >
              Planner
            </button>
            <button
              type="button"
              class="rotation-tab-button"
              data-view="visualize"
              role="tab"
              aria-selected="false"
            >
              Visualize
            </button>
          </div>
          <div id="rotation-planner" class="rotation-view" role="tabpanel" aria-label="Planner view">
            <div class="rotation-body">
              <div class="rotation-pool">
                <div class="panel-title">Ability Codex</div>
                <p class="panel-hint">Groupings show which hero stat empowers the ability.</p>
                <div id="ability-groups" class="ability-groups"></div>
              </div>
              <div class="rotation-active">
                <div class="panel-title">Active Rotation</div>
                <p class="panel-hint">Drag to reorder or use quick actions.</p>
                <ul id="rotation-list" class="rotation-list drop-zone"></ul>
                <div id="rotation-delete" class="drop-zone delete-zone">Drop here to remove</div>
              </div>
            </div>
            <div class="rotation-footer">
              <button id="save-rotation">Save Rotation</button>
              <div id="rotation-error" class="hidden"></div>
            </div>
          </div>
          <div
            id="rotation-visualizer"
            class="rotation-view hidden"
            role="tabpanel"
            aria-label="Visualize view"
          >
            <div id="rotation-visualize" class="rotation-visualize">
              <div id="rotation-visualize-summary" class="visualize-summary"></div>
              <div class="visualize-legend" aria-hidden="true">
                <div class="legend-item">
                  <span class="legend-swatch legend-ability"></span>
                  <span>Ability execution</span>
                </div>
                <div class="legend-item">
                  <span class="legend-swatch legend-cooldown"></span>
                  <span>Cooldown span</span>
                </div>
                <div class="legend-item">
                  <span class="legend-swatch legend-resource legend-mana"></span>
                  <span>Mana track</span>
                </div>
                <div class="legend-item">
                  <span class="legend-swatch legend-resource legend-stamina"></span>
                  <span>Stamina track</span>
                </div>
                <div class="legend-item">
                  <span class="legend-swatch legend-conflict"></span>
                  <span>Cooldown clash</span>
                </div>
                <div class="legend-item">
                  <span class="legend-swatch legend-deficit"></span>
                  <span>Resource exhausted</span>
                </div>
              </div>
              <div class="visualize-timeline-scroll">
                <svg
                  id="rotation-timeline"
                  class="rotation-timeline"
                  xmlns="http://www.w3.org/2000/svg"
                  role="img"
                  aria-labelledby="rotation-timeline-title rotation-timeline-desc"
                ></svg>
                <div id="rotation-timeline-title" class="visually-hidden">Rotation timeline</div>
                <div id="rotation-timeline-desc" class="visually-hidden">
                  Visual schedule of ability usage, cooldowns, and resource levels.
                </div>
              </div>
              <div id="rotation-visualize-empty" class="visualize-empty hidden">
                Add abilities to the rotation to visualize their timing and costs.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <script src="tooltip.js"></script>
  <script src="main.js"></script>
</body>
</html>
